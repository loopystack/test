"use strict";(self.webpackChunkOneDollarAI=self.webpackChunkOneDollarAI||[]).push([[965],{965:(e,r,s)=>{s.r(r),s.d(r,{default:()=>$});var t=s(5043),o=s(6971),c=s(9490),a=s(5381),n=s(2703),l=s(611),i=s(5865),d=s(4194),u=s(8977),j=s(794),x=s(7332),p=s(4528),h=s(6961),b=s(332),v=s(2110),A=s(6494),m=s(3845),k=s(35),g=s(6600),y=s(5316),w=s(7784),f=s(9347),C=s(6225),S=s(9662),P=s(579);const I=(0,S.A)([(0,P.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,P.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"Schedule");var R=s(1794),M=s(3560),B=s(5456);const W=(0,S.A)((0,P.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),Y=e=>{let{project:r,onStatusUpdate:s}=e;const[o,c]=(0,t.useState)(!1),[a,l]=(0,t.useState)(""),[j,x]=(0,t.useState)(!1),[p,b]=(0,t.useState)(""),S="draft"===r.status||"rejected"===r.status;return(0,P.jsxs)(v.A,{sx:{mb:3},children:[(0,P.jsxs)(A.A,{children:[(0,P.jsx)(i.A,{variant:"h6",gutterBottom:!0,sx:{color:"black"},children:"Project Status"}),(0,P.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(e=>{switch(e){case"approved":return(0,P.jsx)(C.A,{sx:{color:"green"}});case"pending":return(0,P.jsx)(I,{sx:{color:"orange"}});case"rejected":return(0,P.jsx)(R.A,{sx:{color:"red"}});case"draft":return(0,P.jsx)(M.A,{sx:{color:"gray"}});default:return(0,P.jsx)(B.A,{sx:{color:"black"}})}})(r.status),(0,P.jsx)(m.A,{label:r.status.charAt(0).toUpperCase()+r.status.slice(1),color:(e=>{switch(e){case"approved":return"success";case"pending":return"warning";case"rejected":return"error";default:return"default"}})(r.status),variant:"outlined"})]}),(0,P.jsx)(i.A,{variant:"body2",sx:{mb:3,color:"black"},children:(e=>{switch(e){case"approved":return"Your project has been approved and is now publicly available.";case"pending":return"Your project is currently under review by our team.";case"rejected":return"Your project was not approved. Please review the feedback and resubmit.";case"draft":return"Your project is in draft mode. Submit it for review when ready.";default:return"Unknown status."}})(r.status)}),"pending"===r.status&&(0,P.jsx)(d.A,{severity:"info",sx:{mb:2,color:"black"},children:"Review typically takes 1-3 business days. You'll be notified once the review is complete."}),"rejected"===r.status&&r.rejection_reason&&(0,P.jsx)(d.A,{severity:"error",sx:{mb:2,color:"black"},children:(0,P.jsxs)(i.A,{variant:"body2",sx:{color:"black"},children:[(0,P.jsx)("strong",{children:"Rejection Reason:"})," ",r.rejection_reason]})}),S&&(0,P.jsx)(u.A,{variant:"contained",startIcon:(0,P.jsx)(W,{}),onClick:()=>c(!0),sx:{backgroundColor:"black",color:"white"},children:"Submit for Review"}),"approved"===r.status&&!r.is_public&&(0,P.jsx)(d.A,{severity:"success",sx:{mt:2,color:"black"},children:"Your project is approved! You can now make it public in the project settings."})]}),(0,P.jsxs)(k.A,{open:o,onClose:()=>c(!1),maxWidth:"sm",fullWidth:!0,children:[(0,P.jsx)(g.A,{sx:{color:"black"},children:"Submit Project for Review"}),(0,P.jsxs)(y.A,{children:[(0,P.jsx)(i.A,{variant:"body2",sx:{mb:2,color:"black"},children:"Please provide a brief description of your project and why it should be approved:"}),(0,P.jsx)(w.A,{fullWidth:!0,multiline:!0,rows:4,label:"Submission Reason",value:a,onChange:e=>l(e.target.value),placeholder:"Describe your project and its value to the community...",error:!!p,helperText:p,sx:{"& .MuiInputBase-root":{color:"black","& fieldset":{borderColor:"black"}},"& .MuiInputLabel-root":{color:"black"}}})]}),(0,P.jsxs)(f.A,{children:[(0,P.jsx)(u.A,{onClick:()=>c(!1),sx:{color:"black"},children:"Cancel"}),(0,P.jsx)(u.A,{onClick:async()=>{if(a.trim())try{x(!0),b(""),await h.$.submitForReview(r.id,{reason:a,status:"pending"}),c(!1),l(""),s&&s()}catch(p){var e,t;console.error("Error submitting project for review:",p),b((null===(e=p.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to submit project for review.")}finally{x(!1)}else b("Please provide a reason for submission.")},variant:"contained",disabled:j,sx:{backgroundColor:"black",color:"white"},children:j?"Submitting...":"Submit for Review"})]})]})]})},$=()=>{const{projectId:e}=(0,o.g)(),r=(0,o.Zp)(),{user:s}=(0,p.As)(),[v,A]=(0,t.useState)(null),[m,k]=(0,t.useState)(!0),[g,y]=(0,t.useState)(null),[w,f]=(0,t.useState)({open:!1,message:"",severity:"success"});(0,t.useEffect)((()=>{C()}),[e]);const C=async()=>{try{k(!0),y(null);const r=await h.$.getProject(e);A(r.data),await h.$.trackProjectView(e)}catch(g){console.error("Error loading project:",g),y("Failed to load project. Please try again.")}finally{k(!1)}};if(m)return(0,P.jsx)(a.A,{maxWidth:"lg",children:(0,P.jsxs)(n.A,{sx:{mt:4,textAlign:"center"},children:[(0,P.jsx)(l.A,{sx:{mb:2}}),(0,P.jsx)(i.A,{variant:"h6",sx:{color:"black"},children:"Loading project..."})]})});if(g)return(0,P.jsx)(a.A,{maxWidth:"lg",children:(0,P.jsxs)(n.A,{sx:{mt:4},children:[(0,P.jsx)(d.A,{severity:"error",sx:{color:"black"},children:g}),(0,P.jsx)(u.A,{startIcon:(0,P.jsx)(x.A,{}),onClick:()=>r("/projects"),sx:{mt:2,color:"black"},children:"Back to Projects"})]})});if(!v)return(0,P.jsx)(a.A,{maxWidth:"lg",children:(0,P.jsxs)(n.A,{sx:{mt:4},children:[(0,P.jsx)(d.A,{severity:"warning",sx:{color:"black"},children:"Project not found"}),(0,P.jsx)(u.A,{startIcon:(0,P.jsx)(x.A,{}),onClick:()=>r("/projects"),sx:{mt:2,color:"black"},children:"Back to Projects"})]})});const S=v.owner.id===(null===s||void 0===s?void 0:s.id);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(c.mg,{children:(0,P.jsxs)("title",{children:[v.title," - OneDollarAI"]})}),(0,P.jsxs)(a.A,{maxWidth:"lg",children:[(0,P.jsx)(n.A,{sx:{mt:3,mb:2},children:(0,P.jsx)(u.A,{startIcon:(0,P.jsx)(x.A,{}),onClick:()=>r("/projects"),sx:{color:"black"},children:"Back to Projects"})}),S&&(0,P.jsx)(Y,{project:v,onStatusUpdate:C}),(0,P.jsx)(b.A,{project:v,onClose:()=>r("/projects"),onRun:()=>{r(`/project/${e}/run`)},onBuy:async r=>{try{await h.$.buyProject(e,r),f({open:!0,message:"Project purchased successfully!",severity:"success"}),C()}catch(g){var s,t;console.error("Error buying project:",g),f({open:!0,message:(null===(s=g.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.error)||"Failed to purchase project",severity:"error"})}},onViewPublic:()=>{v.is_public?r(`/project/public/${e}`):f({open:!0,message:"This project is not public",severity:"warning"})},onCollaboration:()=>{r(`/projects/${e}/collaboration`)},isOwner:S}),(0,P.jsx)(j.A,{open:w.open,autoHideDuration:6e3,onClose:()=>f({...w,open:!1}),children:(0,P.jsx)(d.A,{onClose:()=>f({...w,open:!1}),severity:w.severity,sx:{width:"100%"},children:w.message})})]})]})}},1794:(e,r,s)=>{s.d(r,{A:()=>c});var t=s(9662),o=s(579);const c=(0,t.A)((0,o.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel")},7332:(e,r,s)=>{s.d(r,{A:()=>c});var t=s(9662),o=s(579);const c=(0,t.A)((0,o.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")}}]);
//# sourceMappingURL=965.556b8b94.chunk.js.map