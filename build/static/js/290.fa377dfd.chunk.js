"use strict";(self.webpackChunkOneDollarAI=self.webpackChunkOneDollarAI||[]).push([[290],{290:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v});var o=r(5043),s=r(6971),c=r(9490),n=r(4535),l=r(2703),i=r(5865),a=r(5381),d=r(2698),h=r(8446),j=r(2110),u=r(6494),x=r(794),p=r(4194),g=r(4528),m=r(6961),A=r(467),f=r(579);const y=(0,n.Ay)(l.A)((e=>{let{theme:t}=e;return{display:"flex",width:"100%",flexDirection:"column",height:`calc(100dvh - ${t.header.mobileHeight})`,[t.breakpoints.up("md")]:{height:`calc(100dvh - ${t.header.height})`}}})),v=()=>{var e;const{projectId:t}=(0,s.g)(),r=(0,s.Zp)(),{user:n}=(0,g.As)(),[v,b]=(0,o.useState)(null),[k,C]=(0,o.useState)(!0),[P,w]=(0,o.useState)(null),[I,D]=(0,o.useState)({open:!1,message:"",severity:"success"});(0,o.useEffect)((()=>{E()}),[t]);const E=async()=>{try{C(!0);const e=await m.$.getProject(t);b(e.data)}catch(P){console.error("Error loading project:",P),w("Failed to load project. Please try again.")}finally{C(!1)}},S=()=>{D({...I,open:!1})};if(k)return(0,f.jsx)(y,{children:(0,f.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,f.jsx)(i.A,{sx:{color:"black"},children:"Loading project..."})})});if(!v)return(0,f.jsx)(y,{children:(0,f.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,f.jsx)(i.A,{sx:{color:"black"},children:"Project not found"})})});const $=v.owner.id===(null===n||void 0===n?void 0:n.id),F=null===(e=v.collaborators)||void 0===e?void 0:e.some((e=>e.user.id===(null===n||void 0===n?void 0:n.id)&&e.can_edit));return $||F?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.mg,{children:(0,f.jsx)("title",{children:"Edit Project | OneDollarAI"})}),(0,f.jsx)(y,{sx:{overflowY:"auto",pb:2,scrollbarColor:"#888 #e3e3e3"},children:(0,f.jsxs)(a.A,{maxWidth:"lg",children:[(0,f.jsxs)(l.A,{sx:{mt:3,mb:4},children:[(0,f.jsxs)(d.A,{sx:{mb:2},children:[(0,f.jsx)(h.A,{color:"inherit",href:"/projects",onClick:e=>{e.preventDefault(),r("/projects")},sx:{cursor:"pointer",color:"black"},children:"Projects"}),(0,f.jsx)(i.A,{color:"black",children:"Edit Project"})]}),(0,f.jsx)(i.A,{variant:"h2",component:"h1",gutterBottom:!0,color:"black",children:"Edit Project"}),(0,f.jsx)(i.A,{variant:"body1",color:"black",children:"Update your project information, content, and settings."})]}),(0,f.jsx)(j.A,{children:(0,f.jsx)(u.A,{children:(0,f.jsx)(A.A,{project:v,onSubmit:async e=>{try{const o=await m.$.updateProject(t,e);b(o.data),D({open:!0,message:"Project updated successfully!",severity:"success"}),setTimeout((()=>{r("/projects")}),1500)}catch(P){console.error("Error updating project:",P),D({open:!0,message:"Failed to update project",severity:"error"})}},onCancel:()=>{r("/projects")}})})})]})}),(0,f.jsx)(x.A,{open:I.open,autoHideDuration:6e3,onClose:S,children:(0,f.jsx)(p.A,{onClose:S,severity:I.severity,sx:{width:"100%"},children:I.message})})]}):(0,f.jsx)(y,{children:(0,f.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,f.jsx)(i.A,{sx:{color:"black"},children:"You don't have permission to edit this project."})})})}}}]);
//# sourceMappingURL=290.fa377dfd.chunk.js.map