"use strict";(self.webpackChunkOneDollarAI=self.webpackChunkOneDollarAI||[]).push([[227],{467:(e,t,r)=>{r.d(t,{A:()=>f});r(5043);var o=r(3516),a=r(899),s=r(2703),n=r(8903),c=r(5865),i=r(7784),l=r(3193),u=r(9190),p=r(9285),d=r(2143),g=r(4605),h=r(4598),j=r(8977),v=r(5225),m=r(8598),y=r(1473),x=r(579);const b=a.Ik({title:a.Yj().min(3,"Title must be at least 3 characters").max(200,"Title must be less than 200 characters").required("Title is required"),description:a.Yj().min(10,"Description must be at least 10 characters").max(1e3,"Description must be less than 1000 characters").required("Description is required"),project_type:a.Yj().oneOf(["code","text"],"Invalid project type").required("Project type is required"),language:a.Yj().when("project_type",{is:"code",then:e=>e.required("Language is required for code projects"),otherwise:e=>e.nullable()}),price:a.ai().min(0,"Price must be non-negative").max(9999.99,"Price must be less than $10,000"),price_per_use:a.ai().min(0,"Price per use must be non-negative").max(999.99,"Price per use must be less than $1,000"),is_public:a.zM(),content:a.Yj().min(1,"Content is required").required("Content is required")}),w={"& .MuiInputBase-root":{color:"black","& fieldset":{borderColor:"black"},"&:hover fieldset":{borderColor:"black"},"&.Mui-focused fieldset":{borderColor:"black"}},"& .MuiInputLabel-root":{color:"black","&.Mui-focused":{color:"black"}},"& .MuiFormHelperText-root":{color:"black"}},f=e=>{let{project:t,onSubmit:r,onCancel:a}=e;const f=(0,o.Wx)({initialValues:{title:(null===t||void 0===t?void 0:t.title)||"",description:(null===t||void 0===t?void 0:t.description)||"",project_type:(null===t||void 0===t?void 0:t.project_type)||"code",language:(null===t||void 0===t?void 0:t.language)||"javascript",price:(null===t||void 0===t?void 0:t.price)||0,price_per_use:(null===t||void 0===t?void 0:t.price_per_use)||.1,is_public:(null===t||void 0===t?void 0:t.is_public)||!1,content:(null===t||void 0===t?void 0:t.content)||"",usage_instructions:(null===t||void 0===t?void 0:t.usage_instructions)||""},validationSchema:b,onSubmit:e=>{r(e)}});return(0,x.jsx)(s.A,{component:"form",onSubmit:f.handleSubmit,sx:{mt:2},children:(0,x.jsxs)(n.Ay,{container:!0,spacing:3,children:[(0,x.jsx)(n.Ay,{item:!0,xs:12,children:(0,x.jsx)(c.A,{variant:"h6",gutterBottom:!0,color:"black",children:"Basic Information"})}),(0,x.jsx)(n.Ay,{item:!0,xs:12,md:8,children:(0,x.jsx)(i.A,{fullWidth:!0,name:"title",label:"Project Title",value:f.values.title,onChange:f.handleChange,onBlur:f.handleBlur,error:f.touched.title&&Boolean(f.errors.title),helperText:f.touched.title&&f.errors.title,sx:w})}),(0,x.jsx)(n.Ay,{item:!0,xs:12,md:4,children:(0,x.jsxs)(l.A,{fullWidth:!0,sx:w,children:[(0,x.jsx)(u.A,{children:"Project Type"}),(0,x.jsxs)(p.A,{name:"project_type",value:f.values.project_type,onChange:f.handleChange,onBlur:f.handleBlur,error:f.touched.project_type&&Boolean(f.errors.project_type),label:"Project Type",children:[(0,x.jsx)(d.A,{value:"code",children:(0,x.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1,color:"black"},children:[(0,x.jsx)(v.A,{fontSize:"small"}),"Code Project"]})}),(0,x.jsx)(d.A,{value:"text",children:(0,x.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1,color:"black"},children:[(0,x.jsx)(m.A,{fontSize:"small"}),"Text Project"]})})]})]})}),"code"===f.values.project_type&&(0,x.jsx)(n.Ay,{item:!0,xs:12,md:6,children:(0,x.jsxs)(l.A,{fullWidth:!0,sx:w,children:[(0,x.jsx)(u.A,{children:"Programming Language"}),(0,x.jsx)(p.A,{name:"language",value:f.values.language,onChange:f.handleChange,onBlur:f.handleBlur,error:f.touched.language&&Boolean(f.errors.language),label:"Programming Language",children:[{value:"javascript",label:"JavaScript"},{value:"python",label:"Python"},{value:"java",label:"Java"},{value:"php",label:"PHP"},{value:"go",label:"Go"},{value:"rust",label:"Rust"},{value:"sql",label:"SQL"}].map((e=>(0,x.jsx)(d.A,{value:e.value,sx:{color:"black !important","&:hover, &:active, &.active, &.Mui-selected":{color:"black !important"}},children:e.label},e.value)))})]})}),(0,x.jsx)(n.Ay,{item:!0,xs:12,children:(0,x.jsx)(i.A,{fullWidth:!0,multiline:!0,rows:3,name:"description",label:"Description",value:f.values.description,onChange:f.handleChange,onBlur:f.handleBlur,error:f.touched.description&&Boolean(f.errors.description),helperText:f.touched.description&&f.errors.description,sx:w})}),(0,x.jsx)(n.Ay,{item:!0,xs:12,children:(0,x.jsx)(c.A,{variant:"h6",gutterBottom:!0,color:"black",children:"Pricing"})}),(0,x.jsx)(n.Ay,{item:!0,xs:12,md:6,children:(0,x.jsx)(i.A,{fullWidth:!0,type:"number",name:"price",label:"One-time Purchase Price ($)",value:f.values.price,onChange:f.handleChange,onBlur:f.handleBlur,error:f.touched.price&&Boolean(f.errors.price),helperText:f.touched.price&&f.errors.price,inputProps:{min:0,step:.01},sx:w})}),(0,x.jsx)(n.Ay,{item:!0,xs:12,md:6,children:(0,x.jsx)(i.A,{fullWidth:!0,type:"number",name:"price_per_use",label:"Price per Use ($)",value:f.values.price_per_use,onChange:f.handleChange,onBlur:f.handleBlur,error:f.touched.price_per_use&&Boolean(f.errors.price_per_use),helperText:f.touched.price_per_use&&f.errors.price_per_use,inputProps:{min:0,step:.01},sx:w})}),(0,x.jsx)(n.Ay,{item:!0,xs:12,children:(0,x.jsx)(g.A,{control:(0,x.jsx)(h.A,{name:"is_public",checked:f.values.is_public,onChange:f.handleChange,sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:"black","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"}},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:"black"}}}),label:"Make this project public",sx:{color:"black"}})}),(0,x.jsx)(n.Ay,{item:!0,xs:12,children:(0,x.jsx)(c.A,{variant:"h6",gutterBottom:!0,color:"black",children:"Project Content"})}),(0,x.jsx)(n.Ay,{item:!0,xs:12,children:(0,x.jsxs)(s.A,{sx:{height:"300px",width:"100%"},children:[(0,x.jsx)(y.A,{value:f.values.content,onChange:e=>f.setFieldValue("content",e),language:"code"===f.values.project_type?f.values.language:"javascript"}),f.touched.content&&Boolean(f.errors.content)&&(0,x.jsx)(c.A,{variant:"body2",color:"error",children:f.errors.content})]})}),(0,x.jsx)(n.Ay,{item:!0,xs:12,children:(0,x.jsx)(i.A,{fullWidth:!0,multiline:!0,rows:3,name:"usage_instructions",label:"Usage Instructions",value:f.values.usage_instructions,onChange:f.handleChange,onBlur:f.handleBlur,placeholder:"Explain how to use this project...",sx:w})}),(0,x.jsx)(n.Ay,{item:!0,xs:12,children:(0,x.jsxs)(s.A,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[a&&(0,x.jsx)(j.A,{variant:"outlined",onClick:a,sx:{color:"black",borderColor:"black","&:hover":{borderColor:"black",backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:"Cancel"}),(0,x.jsx)(j.A,{type:"submit",variant:"contained",disabled:f.isSubmitting,sx:{backgroundColor:"black",color:"white","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.8)"}},children:t?"Update Project":"Create Project"})]})})]})})}},1473:(e,t,r)=>{r.d(t,{A:()=>A});var o=r(5043),a=r(4888),s=r(1572),n=r(994),c=r(9474),i=r(7615),l=r(6837),u=r(6997),p=r(1168),d=r(3871),g=r(6526),h=r(5469),j=r(3916),v=r(5579),m=r(4932),y=r(8724),x=r(5837),b=r(7680),w=r(579);const f=e=>{let{value:t,onChange:r,language:f="javascript",readOnly:A=!1}=e;const _=(0,o.useRef)(null),P=(0,o.useRef)(null),C=(0,o.useCallback)((e=>{switch(e){case"python":return(0,y.Hg)();case"java":return(0,j.J)();case"php":return(0,m.z)();case"go":return h.T.define(g.go);case"rust":return(0,x.T)();case"sql":return(0,b.ll)();default:return(0,v.Q2)({typescript:!0})}}),[]);return(0,o.useEffect)((()=>{var e;if(!_.current)return;const o=a.Lz.updateListener.of((e=>{if(e.docChanged){const t=e.state.doc.toString();null===r||void 0===r||r(t)}})),g=n.$t.create({doc:t,extensions:[s.oQ,C(f),c.bM,(0,a.$K)(),(0,u.Lv)(),(0,a.N$)(),(0,l.b6)(),(0,a.VH)(),(0,a.A)(),n.$t.allowMultipleSelections.of(!0),(0,u.WD)(),(0,u.y9)(u.Zt),(0,u.SG)(),(0,i.wm)(),(0,i.yU)(),(0,a.D4)(),(0,a.HJ)(),(0,a.dz)(),(0,a.Wu)(),(0,d.gN)(),o,a.Lz.lineWrapping,a.w4.of([...i.Bc,...l.pw,...d.Eo,...l.cL,...u.f7,...i.OO,...p.$w])]});P.current=new a.Lz({state:g,parent:_.current});const h=null===(e=_.current)||void 0===e?void 0:e.querySelector(".cm-editor");return h&&(h.style.height="100%"),()=>{var e;null===(e=P.current)||void 0===e||e.destroy()}}),[C,f]),(0,w.jsx)("div",{ref:_,style:{border:"1px solid #ccc",flexGrow:1,height:"100%",maxHeight:"100%",overflow:"auto"}})};f.defaultProps={value:"",language:"javascript",readOnly:!1};const A=f},6961:(e,t,r)=>{r.d(t,{$:()=>c});var o=r(6213),a=r(1880);const s="https://onedollarai.com",n=o.A.create({baseURL:`${s}/api`,headers:{"Content-Type":"application/json"},withCredentials:!0});n.interceptors.request.use((async e=>{await(async()=>{try{if(a.A.get("csrftoken"))console.log("CSRF token already exists:",a.A.get("csrftoken")?"Token exists":"No token found");else{console.log("No CSRF token found, fetching a new one...");const e=await o.A.get(`${s}/api/get_csrf_token/`,{withCredentials:!0});if(200===e.status){const e=a.A.get("csrftoken");console.log("CSRF token fetched successfully:",e?"Token received":"No token set")}else console.warn("Failed to fetch CSRF token:",e.status)}}catch(e){console.error("Error fetching CSRF token:",e)}})();const t=localStorage.getItem("accessToken");t&&(e.headers.Authorization=`Bearer ${t}`);const r=a.A.get("csrftoken");return r&&(e.headers["X-CSRFToken"]=r),e}),(e=>Promise.reject(e))),n.interceptors.response.use((e=>e),(e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("accessToken"),window.location.href="/login"),Promise.reject(e)}));const c={getAllProjects:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await n.get("/projects/",{params:e})},getMyProjects:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await n.get("/projects/my_projects/",{params:e})},searchProjects:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await n.get("/projects/search/",{params:{q:e,...t}})},getProject:async e=>await n.get(`/projects/${e}/`),createProject:async e=>await n.post("/projects/",e),updateProject:async(e,t)=>await n.put(`/projects/${e}/`,t),deleteProject:async e=>await n.delete(`/projects/${e}/`),runProject:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await n.post(`/projects/${e}/run/`,t)},buyProject:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await n.post(`/projects/${e}/buy/`,t)},trackProjectView:async e=>await n.post(`/projects/${e}/view/`),getProjectAnalytics:async e=>await n.get(`/projects/${e}/analytics/`),getCollaborators:async e=>await n.get(`/projects/${e}/collaborators/`),addCollaborator:async(e,t)=>await n.post(`/projects/${e}/add_collaborator/`,t),removeCollaborator:async(e,t)=>await n.post(`/projects/${e}/remove_collaborator/`,{user_id:t}),submitVersionForReview:async(e,t)=>await n.post(`/projects/${e}/submit_version_for_review/`,t),getPendingVersions:async e=>await n.get(`/projects/${e}/pending_versions/`),promoteVersionToPublic:async(e,t)=>await n.post(`/projects/${e}/versions/${t}/promote_to_public/`),getProjectVersions:async e=>await n.get(`/projects/${e}/versions/`),createProjectVersion:async(e,t)=>await n.post(`/projects/${e}/versions/`,t),updateProjectVersion:async(e,t,r)=>await n.put(`/projects/${e}/versions/${t}/`,r),deleteProjectVersion:async(e,t)=>await n.delete(`/projects/${e}/versions/${t}/`),approveProjectVersion:async(e,t)=>await n.post(`/projects/${e}/versions/${t}/approve/`),rejectProjectVersion:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return await n.post(`/projects/${e}/versions/${t}/reject/`,{reason:r})},analyzeComputingResources:async(e,t)=>await n.post(`/projects/${e}/computing-resources/`,{code:t}),getComputingResources:async e=>await n.get(`/projects/${e}/computing-resources/`),updateComputingResources:async(e,t,r)=>await n.put(`/projects/${e}/computing-resources/${t}/`,r),getAllProjectsAdmin:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await n.get("/projects/admin/projects/",{params:e})},getAdminAnalytics:async()=>await n.get("/projects/admin/projects/analytics/"),approveProject:async e=>await n.post(`/projects/admin/projects/${e}/approve/`),rejectProject:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return await n.post(`/projects/admin/projects/${e}/reject/`,{reason:t})},getProjectUsage:async e=>await n.get(`/projects/${e}/usage/`),getUserProjectUsage:async e=>await n.get(`/projects/${e}/user_usage/`),getUserUsage:async e=>await n.get(`/projects/${e}/user_usage/`),getPendingVersions:async e=>await n.get(`/projects/${e}/pending_versions/`),approveVersion:async(e,t)=>await n.post(`/projects/${e}/versions/${t}/approve/`),rejectVersion:async(e,t,r)=>await n.post(`/projects/${e}/versions/${t}/reject/`,{reason:r}),submitVersionForReview:async(e,t)=>await n.post(`/projects/${e}/submit_version_for_review/`,t),submitForReview:async(e,t)=>await n.post(`/projects/${e}/submit_for_review/`,t),getPublicProject:async e=>await n.get(`/projects/public/${e}/`),getPrivateProject:async e=>await n.get(`/projects/private/${e}/`),executeCode:async(e,t)=>await n.post("/projects/execute-code/",{code:e,language:t}),advancedSearch:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{query:t="",projectType:r="",language:o="",minPrice:a="",maxPrice:s="",sortBy:c="created_at",sortOrder:i="desc"}=e,l={q:t,type:r,language:o,min_price:a,max_price:s,sort_by:c,sort_order:i};return await n.get("/projects/search/",{params:l})}}}}]);
//# sourceMappingURL=227.e8564172.chunk.js.map