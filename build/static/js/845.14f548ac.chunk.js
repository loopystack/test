"use strict";(self.webpackChunkOneDollarAI=self.webpackChunkOneDollarAI||[]).push([[845],{467:(e,l,r)=>{r.d(l,{A:()=>f});r(5043);var o=r(3516),t=r(899),a=r(2703),c=r(8903),s=r(5865),i=r(7784),n=r(3193),d=r(9190),u=r(9285),x=r(2143),h=r(4605),p=r(4598),b=r(8977),j=r(5225),v=r(8598),m=r(1473),A=r(579);const k=t.Ik({title:t.Yj().min(3,"Title must be at least 3 characters").max(200,"Title must be less than 200 characters").required("Title is required"),description:t.Yj().min(10,"Description must be at least 10 characters").max(1e3,"Description must be less than 1000 characters").required("Description is required"),project_type:t.Yj().oneOf(["code","text"],"Invalid project type").required("Project type is required"),language:t.Yj().when("project_type",{is:"code",then:e=>e.required("Language is required for code projects"),otherwise:e=>e.nullable()}),price:t.ai().min(0,"Price must be non-negative").max(9999.99,"Price must be less than $10,000"),price_per_use:t.ai().min(0,"Price per use must be non-negative").max(999.99,"Price per use must be less than $1,000"),is_public:t.zM(),content:t.Yj().min(1,"Content is required").required("Content is required")}),g={"& .MuiInputBase-root":{color:"black","& fieldset":{borderColor:"black"},"&:hover fieldset":{borderColor:"black"},"&.Mui-focused fieldset":{borderColor:"black"}},"& .MuiInputLabel-root":{color:"black","&.Mui-focused":{color:"black"}},"& .MuiFormHelperText-root":{color:"black"}},f=e=>{let{project:l,onSubmit:r,onCancel:t}=e;const f=(0,o.Wx)({initialValues:{title:(null===l||void 0===l?void 0:l.title)||"",description:(null===l||void 0===l?void 0:l.description)||"",project_type:(null===l||void 0===l?void 0:l.project_type)||"code",language:(null===l||void 0===l?void 0:l.language)||"javascript",price:(null===l||void 0===l?void 0:l.price)||0,price_per_use:(null===l||void 0===l?void 0:l.price_per_use)||.1,is_public:(null===l||void 0===l?void 0:l.is_public)||!1,content:(null===l||void 0===l?void 0:l.content)||"",usage_instructions:(null===l||void 0===l?void 0:l.usage_instructions)||""},validationSchema:k,onSubmit:e=>{r(e)}});return(0,A.jsx)(a.A,{component:"form",onSubmit:f.handleSubmit,sx:{mt:2},children:(0,A.jsxs)(c.Ay,{container:!0,spacing:3,children:[(0,A.jsx)(c.Ay,{item:!0,xs:12,children:(0,A.jsx)(s.A,{variant:"h6",gutterBottom:!0,color:"black",children:"Basic Information"})}),(0,A.jsx)(c.Ay,{item:!0,xs:12,md:8,children:(0,A.jsx)(i.A,{fullWidth:!0,name:"title",label:"Project Title",value:f.values.title,onChange:f.handleChange,onBlur:f.handleBlur,error:f.touched.title&&Boolean(f.errors.title),helperText:f.touched.title&&f.errors.title,sx:g})}),(0,A.jsx)(c.Ay,{item:!0,xs:12,md:4,children:(0,A.jsxs)(n.A,{fullWidth:!0,sx:g,children:[(0,A.jsx)(d.A,{children:"Project Type"}),(0,A.jsxs)(u.A,{name:"project_type",value:f.values.project_type,onChange:f.handleChange,onBlur:f.handleBlur,error:f.touched.project_type&&Boolean(f.errors.project_type),label:"Project Type",children:[(0,A.jsx)(x.A,{value:"code",children:(0,A.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:1,color:"black"},children:[(0,A.jsx)(j.A,{fontSize:"small"}),"Code Project"]})}),(0,A.jsx)(x.A,{value:"text",children:(0,A.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:1,color:"black"},children:[(0,A.jsx)(v.A,{fontSize:"small"}),"Text Project"]})})]})]})}),"code"===f.values.project_type&&(0,A.jsx)(c.Ay,{item:!0,xs:12,md:6,children:(0,A.jsxs)(n.A,{fullWidth:!0,sx:g,children:[(0,A.jsx)(d.A,{children:"Programming Language"}),(0,A.jsx)(u.A,{name:"language",value:f.values.language,onChange:f.handleChange,onBlur:f.handleBlur,error:f.touched.language&&Boolean(f.errors.language),label:"Programming Language",children:[{value:"javascript",label:"JavaScript"},{value:"python",label:"Python"},{value:"java",label:"Java"},{value:"php",label:"PHP"},{value:"go",label:"Go"},{value:"rust",label:"Rust"},{value:"sql",label:"SQL"}].map((e=>(0,A.jsx)(x.A,{value:e.value,sx:{color:"black !important","&:hover, &:active, &.active, &.Mui-selected":{color:"black !important"}},children:e.label},e.value)))})]})}),(0,A.jsx)(c.Ay,{item:!0,xs:12,children:(0,A.jsx)(i.A,{fullWidth:!0,multiline:!0,rows:3,name:"description",label:"Description",value:f.values.description,onChange:f.handleChange,onBlur:f.handleBlur,error:f.touched.description&&Boolean(f.errors.description),helperText:f.touched.description&&f.errors.description,sx:g})}),(0,A.jsx)(c.Ay,{item:!0,xs:12,children:(0,A.jsx)(s.A,{variant:"h6",gutterBottom:!0,color:"black",children:"Pricing"})}),(0,A.jsx)(c.Ay,{item:!0,xs:12,md:6,children:(0,A.jsx)(i.A,{fullWidth:!0,type:"number",name:"price",label:"One-time Purchase Price ($)",value:f.values.price,onChange:f.handleChange,onBlur:f.handleBlur,error:f.touched.price&&Boolean(f.errors.price),helperText:f.touched.price&&f.errors.price,inputProps:{min:0,step:.01},sx:g})}),(0,A.jsx)(c.Ay,{item:!0,xs:12,md:6,children:(0,A.jsx)(i.A,{fullWidth:!0,type:"number",name:"price_per_use",label:"Price per Use ($)",value:f.values.price_per_use,onChange:f.handleChange,onBlur:f.handleBlur,error:f.touched.price_per_use&&Boolean(f.errors.price_per_use),helperText:f.touched.price_per_use&&f.errors.price_per_use,inputProps:{min:0,step:.01},sx:g})}),(0,A.jsx)(c.Ay,{item:!0,xs:12,children:(0,A.jsx)(h.A,{control:(0,A.jsx)(p.A,{name:"is_public",checked:f.values.is_public,onChange:f.handleChange,sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:"black","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"}},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:"black"}}}),label:"Make this project public",sx:{color:"black"}})}),(0,A.jsx)(c.Ay,{item:!0,xs:12,children:(0,A.jsx)(s.A,{variant:"h6",gutterBottom:!0,color:"black",children:"Project Content"})}),(0,A.jsx)(c.Ay,{item:!0,xs:12,children:(0,A.jsxs)(a.A,{sx:{height:"300px",width:"100%"},children:[(0,A.jsx)(m.A,{value:f.values.content,onChange:e=>f.setFieldValue("content",e),language:"code"===f.values.project_type?f.values.language:"javascript"}),f.touched.content&&Boolean(f.errors.content)&&(0,A.jsx)(s.A,{variant:"body2",color:"error",children:f.errors.content})]})}),(0,A.jsx)(c.Ay,{item:!0,xs:12,children:(0,A.jsx)(i.A,{fullWidth:!0,multiline:!0,rows:3,name:"usage_instructions",label:"Usage Instructions",value:f.values.usage_instructions,onChange:f.handleChange,onBlur:f.handleBlur,placeholder:"Explain how to use this project...",sx:g})}),(0,A.jsx)(c.Ay,{item:!0,xs:12,children:(0,A.jsxs)(a.A,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[t&&(0,A.jsx)(b.A,{variant:"outlined",onClick:t,sx:{color:"black",borderColor:"black","&:hover":{borderColor:"black",backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:"Cancel"}),(0,A.jsx)(b.A,{type:"submit",variant:"contained",disabled:f.isSubmitting,sx:{backgroundColor:"black",color:"white","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.8)"}},children:l?"Update Project":"Create Project"})]})})]})})}},1473:(e,l,r)=>{r.d(l,{A:()=>y});var o=r(5043),t=r(4888),a=r(1572),c=r(994),s=r(9474),i=r(7615),n=r(6837),d=r(6997),u=r(1168),x=r(3871),h=r(6526),p=r(5469),b=r(3916),j=r(5579),v=r(4932),m=r(8724),A=r(5837),k=r(7680),g=r(579);const f=e=>{let{value:l,onChange:r,language:f="javascript",readOnly:y=!1}=e;const C=(0,o.useRef)(null),w=(0,o.useRef)(null),_=(0,o.useCallback)((e=>{switch(e){case"python":return(0,m.Hg)();case"java":return(0,b.J)();case"php":return(0,v.z)();case"go":return p.T.define(h.go);case"rust":return(0,A.T)();case"sql":return(0,k.ll)();default:return(0,j.Q2)({typescript:!0})}}),[]);return(0,o.useEffect)((()=>{var e;if(!C.current)return;const o=t.Lz.updateListener.of((e=>{if(e.docChanged){const l=e.state.doc.toString();null===r||void 0===r||r(l)}})),h=c.$t.create({doc:l,extensions:[a.oQ,_(f),s.bM,(0,t.$K)(),(0,d.Lv)(),(0,t.N$)(),(0,n.b6)(),(0,t.VH)(),(0,t.A)(),c.$t.allowMultipleSelections.of(!0),(0,d.WD)(),(0,d.y9)(d.Zt),(0,d.SG)(),(0,i.wm)(),(0,i.yU)(),(0,t.D4)(),(0,t.HJ)(),(0,t.dz)(),(0,t.Wu)(),(0,x.gN)(),o,t.Lz.lineWrapping,t.w4.of([...i.Bc,...n.pw,...x.Eo,...n.cL,...d.f7,...i.OO,...u.$w])]});w.current=new t.Lz({state:h,parent:C.current});const p=null===(e=C.current)||void 0===e?void 0:e.querySelector(".cm-editor");return p&&(p.style.height="100%"),()=>{var e;null===(e=w.current)||void 0===e||e.destroy()}}),[_,f]),(0,g.jsx)("div",{ref:C,style:{border:"1px solid #ccc",flexGrow:1,height:"100%",maxHeight:"100%",overflow:"auto"}})};f.defaultProps={value:"",language:"javascript",readOnly:!1};const y=f},1845:(e,l,r)=>{r.r(l),r.d(l,{default:()=>se});var o=r(5043),t=r(9490),a=r(6971),c=r(5381),s=r(2703),i=r(5865),n=r(2110),d=r(6494),u=r(8903),x=r(7784),h=r(1787),p=r(3193),b=r(9190),j=r(9285),v=r(2143),m=r(8977),A=r(9070),k=r(35),g=r(6600),f=r(5316),y=r(9347),C=r(794),w=r(4194),_=r(4010),P=r(5225),S=r(8598),M=r(3632),B=r(9484),z=r(141),I=r(4190),L=r(4642),T=r(1387),W=r(4528),$=r(6961),D=r(8527),E=r(7392),F=r(3845),q=r(1045),O=r(9336),R=r(7600),H=r(378),V=r(2050),J=r(8734),U=r(3637),Y=r(1007),G=r(9320),N=r(8558),Q=r(4593),Z=r(9010),K=r(7012),X=r(9893),ee=r(7241),le=r(3560),re=r(5772),oe=r(579);const te=e=>{let{project:l,onView:r,onEdit:t,onDelete:a,onRun:c,onBuy:u,onViewPublic:x,onCollaboration:h,isOwner:p}=e;const[b,j]=(0,o.useState)(null),A=()=>{j(null)},k=e=>{switch(A(),e){case"view":r();break;case"edit":t();break;case"run":c();break;case"collaborate":h();break;case"view_public":x();break;case"buy":u();break;case"delete":a()}};return(0,oe.jsxs)(n.A,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{transform:"translateY(-4px)",boxShadow:4}},children:[(0,oe.jsxs)(d.A,{sx:{flexGrow:1},children:[(0,oe.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[(0,oe.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1,flex:1},children:[(e=>{switch(e){case"code":return(0,oe.jsx)(P.A,{fontSize:"small",sx:{color:"black"}});case"text":return(0,oe.jsx)(S.A,{fontSize:"small",sx:{color:"black"}});default:return(0,oe.jsx)(M.A,{fontSize:"small",sx:{color:"black"}})}})(l.project_type),(0,oe.jsx)(i.A,{variant:"h6",component:"h2",noWrap:!0,color:"black",sx:{flex:1},children:l.title})]}),(0,oe.jsxs)(s.A,{sx:{display:"flex",gap:.5,alignItems:"center"},children:[l.is_public?(0,oe.jsx)(D.A,{title:"Public Project",componentsProps:{tooltip:{sx:{bgcolor:"black",color:"white","& .MuiTooltip-arrow":{color:"black"}}}},children:(0,oe.jsx)(U.A,{fontSize:"small",sx:{color:"black"}})}):(0,oe.jsx)(D.A,{title:"Private Project",componentsProps:{tooltip:{sx:{bgcolor:"black",color:"white","& .MuiTooltip-arrow":{color:"black"}}}},children:(0,oe.jsx)(Y.A,{fontSize:"small",sx:{color:"black"}})}),l.is_approved&&(0,oe.jsx)(D.A,{title:"Approved",componentsProps:{tooltip:{sx:{bgcolor:"black",color:"white","& .MuiTooltip-arrow":{color:"black"}}}},children:(0,oe.jsx)(G.A,{fontSize:"small",sx:{color:"black"}})}),(0,oe.jsx)(E.A,{size:"small",onClick:e=>{j(e.currentTarget)},sx:{color:"black"},children:(0,oe.jsx)(N.A,{fontSize:"small"})})]})]}),(0,oe.jsx)(i.A,{variant:"body2",sx:{mb:2,display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",color:"black"},children:l.description}),(0,oe.jsxs)(s.A,{sx:{display:"flex",gap:1,mb:2,flexWrap:"wrap"},children:[(0,oe.jsx)(F.A,{label:l.project_type,color:(e=>{switch(e){case"code":return"primary";case"text":return"secondary";default:return"default"}})(l.project_type),size:"small",variant:"outlined"}),(0,oe.jsx)(F.A,{label:l.status,color:(e=>{switch(e){case"approved":return"success";case"pending":return"warning";case"rejected":return"error";default:return"default"}})(l.status),size:"small",variant:"outlined"}),l.language&&(0,oe.jsx)(F.A,{label:l.language,size:"small",variant:"outlined",sx:{color:"black"}}),l.price>0&&(0,oe.jsx)(F.A,{label:`$${l.price}`,color:"warning",size:"small",variant:"outlined"})]}),l.analytics&&(0,oe.jsxs)(s.A,{sx:{display:"flex",gap:1,mb:2,flexWrap:"wrap"},children:[(0,oe.jsx)(F.A,{icon:(0,oe.jsx)(M.A,{}),label:l.analytics.total_views||0,size:"small",variant:"outlined",sx:{color:"black"}}),(0,oe.jsx)(F.A,{icon:(0,oe.jsx)(Q.A,{}),label:l.analytics.total_runs||0,size:"small",variant:"outlined",sx:{color:"black"}}),(0,oe.jsx)(F.A,{icon:(0,oe.jsx)(Z.A,{}),label:l.analytics.total_purchases||0,size:"small",variant:"outlined",sx:{color:"black"}}),l.analytics.total_revenue>0&&(0,oe.jsx)(F.A,{icon:(0,oe.jsx)(K.A,{}),label:`$${l.analytics.total_revenue}`,size:"small",variant:"outlined",color:"success"})]}),(0,oe.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[(0,oe.jsx)(q.A,{sx:{width:24,height:24},children:l.owner.avatar?(0,oe.jsx)("img",{src:l.owner.avatar,alt:l.owner.first_name}):(0,oe.jsx)(X.A,{fontSize:"small"})}),(0,oe.jsxs)(i.A,{variant:"caption",sx:{color:"black"},children:["by ",l.owner.first_name," ",l.owner.last_name]})]}),l.usage_count>0&&(0,oe.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[(0,oe.jsx)(Q.A,{fontSize:"small",sx:{color:"black"}}),(0,oe.jsxs)(i.A,{variant:"caption",sx:{color:"black"},children:["Used ",l.usage_count," times"]})]}),l.computing_resources&&l.computing_resources.length>0&&(0,oe.jsx)(s.A,{sx:{mb:2},children:(0,oe.jsxs)(i.A,{variant:"caption",sx:{color:"black"},display:"block",children:["Cost per run: $",l.computing_resources[0].estimated_cost_per_run]})}),(0,oe.jsx)(i.A,{variant:"caption",sx:{color:"black"},children:(0,re.A)(new Date(l.created_at),{addSuffix:!0})})]}),(0,oe.jsx)(O.A,{}),(0,oe.jsxs)(R.A,{sx:{flexWrap:"wrap",justifyContent:"space-between",p:2},children:[(0,oe.jsxs)(s.A,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[(0,oe.jsx)(m.A,{size:"small",variant:"outlined",startIcon:(0,oe.jsx)(M.A,{}),onClick:r,sx:{color:"black",borderColor:"black"},children:"View"}),(0,oe.jsx)(m.A,{size:"small",variant:"outlined",startIcon:(0,oe.jsx)(Q.A,{}),onClick:c,sx:{color:"black",borderColor:"black"},children:"Run"}),(0,oe.jsx)(m.A,{size:"small",variant:"outlined",startIcon:(0,oe.jsx)(ee.A,{}),onClick:h,sx:{color:"black",borderColor:"black"},children:"Collaborate"}),l.is_public&&(0,oe.jsx)(m.A,{size:"small",variant:"outlined",onClick:x,startIcon:(0,oe.jsx)(U.A,{}),sx:{color:"black",borderColor:"black"},children:"Public"}),l.price>0&&(0,oe.jsxs)(m.A,{size:"small",variant:"outlined",color:"warning",onClick:u,startIcon:(0,oe.jsx)(Z.A,{}),children:["Buy $",l.price]}),p&&(0,oe.jsx)(s.A,{sx:{display:"flex",gap:.5},children:(0,oe.jsx)(D.A,{title:"Edit Project",componentsProps:{tooltip:{sx:{bgcolor:"black",color:"white","& .MuiTooltip-arrow":{color:"black"}}}},children:(0,oe.jsx)(E.A,{size:"small",onClick:t,sx:{color:"black"},children:(0,oe.jsx)(le.A,{fontSize:"small"})})})})]}),p&&(0,oe.jsx)(s.A,{sx:{display:"flex",gap:.5},children:(0,oe.jsx)(D.A,{title:"Delete Project",componentsProps:{tooltip:{sx:{bgcolor:"black",color:"white","& .MuiTooltip-arrow":{color:"black"}}}},children:(0,oe.jsx)(E.A,{size:"small",color:"error",onClick:a,children:(0,oe.jsx)(T.A,{fontSize:"small"})})})})]}),(0,oe.jsxs)(H.A,{anchorEl:b,open:Boolean(b),onClose:A,sx:{"& .MuiMenuItem-root":{color:"black"}},children:[(0,oe.jsxs)(v.A,{onClick:()=>k("view"),sx:{color:"black !important","&:hover, &:active, &.active, &.Mui-selected":{color:"black !important"}},children:[(0,oe.jsx)(V.A,{children:(0,oe.jsx)(M.A,{fontSize:"small",sx:{color:"black"}})}),(0,oe.jsx)(J.A,{children:"View Details"})]}),(0,oe.jsxs)(v.A,{onClick:()=>k("run"),sx:{color:"black !important","&:hover, &:active, &.active, &.Mui-selected":{color:"black !important"}},children:[(0,oe.jsx)(V.A,{children:(0,oe.jsx)(Q.A,{fontSize:"small",sx:{color:"black"}})}),(0,oe.jsx)(J.A,{children:"Run Project"})]}),(0,oe.jsxs)(v.A,{onClick:()=>k("collaborate"),sx:{color:"black !important","&:hover, &:active, &.active, &.Mui-selected":{color:"black !important"}},children:[(0,oe.jsx)(V.A,{children:(0,oe.jsx)(ee.A,{fontSize:"small",sx:{color:"black"}})}),(0,oe.jsx)(J.A,{children:"Collaborate"})]}),l.price>0&&(0,oe.jsxs)(v.A,{onClick:()=>k("buy"),sx:{color:"black !important","&:hover, &:active, &.active, &.Mui-selected":{color:"black !important"}},children:[(0,oe.jsx)(V.A,{children:(0,oe.jsx)(Z.A,{fontSize:"small",sx:{color:"black"}})}),(0,oe.jsx)(J.A,{children:"Buy Project"})]}),p&&(0,oe.jsxs)(oe.Fragment,{children:[(0,oe.jsxs)(v.A,{onClick:()=>k("edit"),sx:{color:"black !important","&:hover, &:active, &.active, &.Mui-selected":{color:"black !important"}},children:[(0,oe.jsx)(V.A,{children:(0,oe.jsx)(le.A,{fontSize:"small",sx:{color:"black"}})}),(0,oe.jsx)(J.A,{children:"Edit Project"})]}),(0,oe.jsxs)(v.A,{onClick:()=>k("delete"),children:[(0,oe.jsx)(V.A,{children:(0,oe.jsx)(T.A,{fontSize:"small",sx:{color:"red"}})}),(0,oe.jsx)(J.A,{sx:{color:"red"},children:"Delete Project"})]})]})]})]})};var ae=r(332),ce=r(467);const se=()=>{const{user:e}=(0,W.As)(),l=(0,a.Zp)(),[r,P]=(0,o.useState)([]),[S,M]=(0,o.useState)([]),[D,E]=(0,o.useState)(!0),[F,q]=(0,o.useState)(""),[O,R]=(0,o.useState)("all"),[H,V]=(0,o.useState)("all"),[J,U]=(0,o.useState)([0,100]),[Y,G]=(0,o.useState)("created_at"),[N,Q]=(0,o.useState)("desc"),[Z,K]=(0,o.useState)(!1),[X,ee]=(0,o.useState)(!1),[le,re]=(0,o.useState)(!1),[se,ie]=(0,o.useState)(!1),[ne,de]=(0,o.useState)(null),[ue,xe]=(0,o.useState)(null),[he,pe]=(0,o.useState)({open:!1,message:"",severity:"success"});(0,o.useEffect)((()=>{je()}),[]),(0,o.useEffect)((()=>{ve()}),[r,F,O,H,J,Y,N]);const be=function(e){pe({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},je=async()=>{try{E(!0);const e=await $.$.getAllProjects();console.log("response",e),P(e.data)}catch(e){console.error("Error loading projects:",e),be("Failed to load projects","error")}finally{E(!1)}},ve=()=>{let e=[...r];F&&(e=e.filter((e=>e.title.toLowerCase().includes(F.toLowerCase())||e.description.toLowerCase().includes(F.toLowerCase())||e.owner.first_name.toLowerCase().includes(F.toLowerCase())||e.owner.last_name.toLowerCase().includes(F.toLowerCase())))),"all"!==O&&(e=e.filter((e=>e.project_type===O))),"all"!==H&&(e=e.filter((e=>e.language===H))),e=e.filter((e=>e.price>=J[0]&&e.price<=J[1])),e.sort(((e,l)=>{var r,o,t,a,c,s;let i,n;switch(Y){case"title":i=e.title.toLowerCase(),n=l.title.toLowerCase();break;case"created_at":i=new Date(e.created_at),n=new Date(l.created_at);break;case"price":i=parseFloat(e.price),n=parseFloat(l.price);break;case"views":i=(null===(r=e.analytics)||void 0===r?void 0:r.total_views)||0,n=(null===(o=l.analytics)||void 0===o?void 0:o.total_views)||0;break;case"runs":i=(null===(t=e.analytics)||void 0===t?void 0:t.total_runs)||0,n=(null===(a=l.analytics)||void 0===a?void 0:a.total_runs)||0;break;case"revenue":i=parseFloat((null===(c=e.analytics)||void 0===c?void 0:c.total_revenue)||0),n=parseFloat((null===(s=l.analytics)||void 0===s?void 0:s.total_revenue)||0);break;default:return 0}return"desc"===N?n>i?1:-1:i>n?1:-1})),M(e)},me=e=>{l(`/projects/${e.id}/collaboration`)},Ae=(e,o)=>{switch(e){case"view":l(`/project/${o.id}`);break;case"edit":l(`/project/${o.id}/edit`);break;case"delete":(async e=>{try{await $.$.deleteProject(e),P(r.filter((l=>l.id!==e))),be("Project deleted successfully!","success")}catch(l){console.error("Error deleting project:",l),be("Failed to delete project","error")}})(o.id);break;case"run":l(`/project/${o.id}/run`);break;case"buy":(async e=>{try{await $.$.buyProject(e.id,{purchase_type:"one_time"}),be("Project purchased successfully!","success"),je()}catch(o){var l,r;console.error("Error buying project:",o),be((null===(l=o.response)||void 0===l||null===(r=l.data)||void 0===r?void 0:r.error)||"Failed to purchase project","error")}})(o);break;case"view_public":ge(o);break;case"collaboration":me(o)}},ke=()=>{ie(!1),xe(null)},ge=e=>{e.is_public?l(`/project/public/${e.id}`):be("This project is not public","warning")};return(0,oe.jsxs)(oe.Fragment,{children:[(0,oe.jsx)(t.mg,{children:(0,oe.jsx)("title",{children:"Projects - OneDollarAI"})}),(0,oe.jsxs)(c.A,{maxWidth:"lg",children:[(0,oe.jsxs)(s.A,{sx:{mt:3,mb:4},children:[(0,oe.jsx)(i.A,{variant:"h2",component:"h1",gutterBottom:!0,sx:{color:"black"},children:"Code Projects"}),(0,oe.jsx)(i.A,{variant:"body1",sx:{color:"black"},children:"Discover, create, and manage code projects. Run them instantly or purchase for unlimited access."})]}),(0,oe.jsx)(n.A,{sx:{mb:3},children:(0,oe.jsxs)(d.A,{children:[(0,oe.jsxs)(u.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,oe.jsx)(u.Ay,{item:!0,xs:12,md:4,children:(0,oe.jsx)(x.A,{fullWidth:!0,placeholder:"Search projects by title, description, or owner...",value:F,onChange:e=>q(e.target.value),InputProps:{startAdornment:(0,oe.jsx)(h.A,{position:"start",children:(0,oe.jsx)(B.A,{sx:{color:"black"}})})},sx:{"& .MuiInputBase-root":{color:"black","& fieldset":{borderColor:"black"},"&:hover fieldset":{borderColor:"black"},"&.Mui-focused fieldset":{borderColor:"black"}},"& .MuiInputLabel-root":{color:"black","&.Mui-focused":{color:"black"}},"& .MuiFormHelperText-root":{color:"black"}}})}),(0,oe.jsx)(u.Ay,{item:!0,xs:12,md:2,children:(0,oe.jsxs)(p.A,{fullWidth:!0,sx:{"& .MuiInputBase-root":{color:"black","& fieldset":{borderColor:"black"},"&:hover fieldset":{borderColor:"black"},"&.Mui-focused fieldset":{borderColor:"black"}},"& .MuiInputLabel-root":{color:"black","&.Mui-focused":{color:"black"}},"& .MuiSelect-icon":{color:"black"}},children:[(0,oe.jsx)(b.A,{children:"Type"}),(0,oe.jsxs)(j.A,{value:O,onChange:e=>R(e.target.value),label:"Type",children:[(0,oe.jsx)(v.A,{value:"all",sx:{color:"black !important","&:hover, &:active, &.active, &.Mui-selected":{color:"black !important"}},children:"All Types"}),(0,oe.jsx)(v.A,{value:"code",sx:{color:"black !important","&:hover, &:active, &.active, &.Mui-selected":{color:"black !important"}},children:"Code Projects"}),(0,oe.jsx)(v.A,{value:"text",sx:{color:"black !important","&:hover, &:active, &.active, &.Mui-selected":{color:"black !important"}},children:"Text Projects"})]})]})}),(0,oe.jsx)(u.Ay,{item:!0,xs:12,md:2,children:(0,oe.jsxs)(p.A,{fullWidth:!0,sx:{"& .MuiInputBase-root":{color:"black","& fieldset":{borderColor:"black"},"&:hover fieldset":{borderColor:"black"},"&.Mui-focused fieldset":{borderColor:"black"}},"& .MuiInputLabel-root":{color:"black","&.Mui-focused":{color:"black"}},"& .MuiSelect-icon":{color:"black"}},children:[(0,oe.jsx)(b.A,{children:"Language"}),(0,oe.jsxs)(j.A,{value:H,onChange:e=>V(e.target.value),label:"Language",children:[(0,oe.jsx)(v.A,{value:"all",sx:{color:"black !important","&:hover, &:active, &.active, &.Mui-selected":{color:"black !important"}},children:"All Languages"}),[{value:"javascript",label:"JavaScript"},{value:"python",label:"Python"},{value:"java",label:"Java"},{value:"php",label:"PHP"},{value:"go",label:"Go"},{value:"rust",label:"Rust"},{value:"sql",label:"SQL"}].map((e=>(0,oe.jsx)(v.A,{value:e.value,sx:{color:"black !important","&:hover, &:active, &.active, &.Mui-selected":{color:"black !important"}},children:e.label},e.value)))]})]})}),(0,oe.jsx)(u.Ay,{item:!0,xs:12,md:2,children:(0,oe.jsxs)(p.A,{fullWidth:!0,sx:{"& .MuiInputBase-root":{color:"black","& fieldset":{borderColor:"black"},"&:hover fieldset":{borderColor:"black"},"&.Mui-focused fieldset":{borderColor:"black"}},"& .MuiInputLabel-root":{color:"black","&.Mui-focused":{color:"black"}},"& .MuiSelect-icon":{color:"black"}},children:[(0,oe.jsx)(b.A,{children:"Sort By"}),(0,oe.jsxs)(j.A,{value:Y,onChange:e=>G(e.target.value),label:"Sort By",children:[(0,oe.jsx)(v.A,{value:"created_at",sx:{color:"black !important","&:hover, &:active, &.active, &.Mui-selected":{color:"black !important"}},children:"Newest First"}),(0,oe.jsx)(v.A,{value:"title",sx:{color:"black !important","&:hover, &:active, &.active, &.Mui-selected":{color:"black !important"}},children:"Title"}),(0,oe.jsx)(v.A,{value:"price",sx:{color:"black !important","&:hover, &:active, &.active, &.Mui-selected":{color:"black !important"}},children:"Price"}),(0,oe.jsx)(v.A,{value:"views",sx:{color:"black !important","&:hover, &:active, &.active, &.Mui-selected":{color:"black !important"}},children:"Most Viewed"}),(0,oe.jsx)(v.A,{value:"runs",sx:{color:"black !important","&:hover, &:active, &.active, &.Mui-selected":{color:"black !important"}},children:"Most Used"}),(0,oe.jsx)(v.A,{value:"revenue",sx:{color:"black !important","&:hover, &:active, &.active, &.Mui-selected":{color:"black !important"}},children:"Highest Revenue"})]})]})}),(0,oe.jsx)(u.Ay,{item:!0,xs:12,md:2,children:(0,oe.jsx)(m.A,{fullWidth:!0,variant:"contained",startIcon:(0,oe.jsx)(z.A,{}),onClick:()=>ee(!0),sx:{backgroundColor:"black",color:"white","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.8)"}},children:"Create Project"})})]}),(0,oe.jsxs)(s.A,{sx:{mt:2},children:[(0,oe.jsxs)(m.A,{startIcon:(0,oe.jsx)(I.A,{}),onClick:()=>K(!Z),sx:{color:"black"},children:[Z?"Hide":"Show"," Advanced Filters"]}),Z&&(0,oe.jsxs)(s.A,{sx:{mt:2},children:[(0,oe.jsxs)(i.A,{variant:"subtitle2",sx:{color:"black",mb:1},children:["Price Range: $",J[0]," - $",J[1]]}),(0,oe.jsx)(A.Ay,{value:J,onChange:(e,l)=>U(l),valueLabelDisplay:"auto",min:0,max:100,sx:{"& .MuiSlider-thumb":{backgroundColor:"black"},"& .MuiSlider-track":{backgroundColor:"black"},"& .MuiSlider-rail":{backgroundColor:"rgba(0, 0, 0, 0.3)"}}})]})]})]})}),(0,oe.jsx)(u.Ay,{container:!0,spacing:3,children:S.map((r=>(0,oe.jsx)(u.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,oe.jsx)(te,{project:r,onView:()=>(e=>{de(e),re(!0)})(r),onEdit:()=>(e=>{l(`/project/${e.id}/edit`)})(r),onDelete:()=>Ae("delete",r),onRun:()=>Ae("run",r),onBuy:()=>Ae("buy",r),onViewPublic:()=>ge(r),onCollaboration:()=>me(r),isOwner:r.owner.id===(null===e||void 0===e?void 0:e.id)})},r.id)))}),0===S.length&&!D&&(0,oe.jsxs)(s.A,{sx:{textAlign:"center",mt:4},children:[(0,oe.jsx)(i.A,{variant:"h6",sx:{color:"black"},gutterBottom:!0,children:"No projects found"}),(0,oe.jsx)(i.A,{variant:"body2",sx:{color:"black"},children:F||"all"!==O||"all"!==H?"Try adjusting your search or filters":"Be the first to create a project!"})]}),(0,oe.jsxs)(k.A,{open:X,onClose:()=>ee(!1),maxWidth:"md",fullWidth:!0,children:[(0,oe.jsx)(g.A,{sx:{color:"black",backgroundColor:"#E8E8E8"},children:"Create New Project"}),(0,oe.jsx)(f.A,{sx:{backgroundColor:"#E8E8E8",scrollbarColor:"#888 #E8E8E8"},children:(0,oe.jsx)(ce.A,{onSubmit:async e=>{try{console.log("projectData",e);const l=await $.$.createProject(e);console.log("response",l),P([l.data,...r]),ee(!1),be("Project created successfully!")}catch(l){console.error("Error creating project:",l),be("Failed to create project","error")}}})})]}),(0,oe.jsx)(k.A,{open:le,onClose:()=>re(!1),maxWidth:"lg",fullWidth:!0,children:(0,oe.jsx)(f.A,{children:ne&&(0,oe.jsx)(ae.A,{project:ne,onClose:()=>re(!1),onRun:()=>Ae("run",ne),onBuy:()=>Ae("buy",ne),onViewPublic:()=>ge(ne),onCollaboration:()=>me(ne),isOwner:ne.owner.id===(null===e||void 0===e?void 0:e.id)})})}),(0,oe.jsxs)(k.A,{open:se,onClose:ke,maxWidth:"sm",fullWidth:!0,children:[(0,oe.jsxs)(g.A,{sx:{color:"black",backgroundColor:"#fff3cd",display:"flex",alignItems:"center",gap:1},children:[(0,oe.jsx)(L.A,{sx:{color:"#856404"}}),"Confirm Delete"]}),(0,oe.jsxs)(f.A,{sx:{backgroundColor:"#fff3cd",pt:2},children:[(0,oe.jsxs)(i.A,{variant:"body1",sx:{color:"black",mb:2},children:['Are you sure you want to delete the project "',null===ue||void 0===ue?void 0:ue.title,'"?']}),(0,oe.jsx)(i.A,{variant:"body2",sx:{color:"#856404"},children:"This action cannot be undone. The project and all its data will be permanently removed."})]}),(0,oe.jsxs)(y.A,{sx:{backgroundColor:"#fff3cd",px:3,pb:2},children:[(0,oe.jsx)(m.A,{onClick:ke,sx:{color:"black",borderColor:"black","&:hover":{borderColor:"black",backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:"Cancel"}),(0,oe.jsx)(m.A,{onClick:async()=>{try{await $.$.deleteProject(ue.id),P(r.filter((e=>e.id!==ue.id))),ie(!1),xe(null),be("Project deleted successfully!")}catch(e){console.error("Error deleting project:",e),be("Failed to delete project","error")}},variant:"contained",color:"error",startIcon:(0,oe.jsx)(T.A,{}),sx:{backgroundColor:"#dc3545","&:hover":{backgroundColor:"#c82333"}},children:"Delete Project"})]})]}),(0,oe.jsx)(C.A,{open:he.open,autoHideDuration:6e3,onClose:()=>pe({...he,open:!1}),children:(0,oe.jsx)(w.A,{onClose:()=>pe({...he,open:!1}),severity:he.severity,sx:{width:"100%"},children:he.message})}),(0,oe.jsx)(_.A,{color:"primary","aria-label":"add",sx:{position:"fixed",bottom:16,right:16},onClick:()=>ee(!0),children:(0,oe.jsx)(z.A,{})})]})]})}}}]);
//# sourceMappingURL=845.14f548ac.chunk.js.map