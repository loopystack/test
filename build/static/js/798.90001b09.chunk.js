"use strict";(self.webpackChunkOneDollarAI=self.webpackChunkOneDollarAI||[]).push([[798],{1473:(e,t,o)=>{o.d(t,{A:()=>b});var r=o(5043),s=o(4888),a=o(1572),n=o(994),c=o(9474),i=o(7615),l=o(6837),d=o(6997),p=o(1168),u=o(3871),g=o(6526),j=o(5469),x=o(3916),m=o(5579),h=o(4932),y=o(8724),v=o(5837),f=o(7680),w=o(579);const A=e=>{let{value:t,onChange:o,language:A="javascript",readOnly:b=!1}=e;const $=(0,r.useRef)(null),C=(0,r.useRef)(null),k=(0,r.useCallback)((e=>{switch(e){case"python":return(0,y.Hg)();case"java":return(0,x.J)();case"php":return(0,h.z)();case"go":return j.T.define(g.go);case"rust":return(0,v.T)();case"sql":return(0,f.ll)();default:return(0,m.Q2)({typescript:!0})}}),[]);return(0,r.useEffect)((()=>{var e;if(!$.current)return;const r=s.Lz.updateListener.of((e=>{if(e.docChanged){const t=e.state.doc.toString();null===o||void 0===o||o(t)}})),g=n.$t.create({doc:t,extensions:[a.oQ,k(A),c.bM,(0,s.$K)(),(0,d.Lv)(),(0,s.N$)(),(0,l.b6)(),(0,s.VH)(),(0,s.A)(),n.$t.allowMultipleSelections.of(!0),(0,d.WD)(),(0,d.y9)(d.Zt),(0,d.SG)(),(0,i.wm)(),(0,i.yU)(),(0,s.D4)(),(0,s.HJ)(),(0,s.dz)(),(0,s.Wu)(),(0,u.gN)(),r,s.Lz.lineWrapping,s.w4.of([...i.Bc,...l.pw,...u.Eo,...l.cL,...d.f7,...i.OO,...p.$w])]});C.current=new s.Lz({state:g,parent:$.current});const j=null===(e=$.current)||void 0===e?void 0:e.querySelector(".cm-editor");return j&&(j.style.height="100%"),()=>{var e;null===(e=C.current)||void 0===e||e.destroy()}}),[k,A]),(0,w.jsx)("div",{ref:$,style:{border:"1px solid #ccc",flexGrow:1,height:"100%",maxHeight:"100%",overflow:"auto"}})};A.defaultProps={value:"",language:"javascript",readOnly:!1};const b=A},2698:(e,t,o)=>{o.d(t,{A:()=>I});var r=o(8168),s=o(8587),a=o(5043),n=o(9292),c=o(8610),i=o(8092),l=o(4535),d=o(8206),p=o(5865),u=o(61),g=o(9662),j=o(579);const x=(0,g.A)((0,j.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var m=o(2949);const h=["slots","slotProps"],y=(0,l.Ay)(m.A)((e=>{let{theme:t}=e;return(0,r.A)({display:"flex",marginLeft:`calc(${t.spacing(1)} * 0.5)`,marginRight:`calc(${t.spacing(1)} * 0.5)`},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,r.A)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,r.A)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,u.tL)(t.palette.grey[200],.12)}:{backgroundColor:(0,u.tL)(t.palette.grey[600],.12)})})})),v=(0,l.Ay)(x)({width:24,height:16});const f=function(e){const{slots:t={},slotProps:o={}}=e,a=(0,s.A)(e,h),n=e;return(0,j.jsx)("li",{children:(0,j.jsx)(y,(0,r.A)({focusRipple:!0},a,{ownerState:n,children:(0,j.jsx)(v,(0,r.A)({as:t.CollapsedIcon,ownerState:n},o.collapsedIcon))}))})};var w=o(2532),A=o(2372);function b(e){return(0,A.Ay)("MuiBreadcrumbs",e)}const $=(0,w.A)("MuiBreadcrumbs",["root","ol","li","separator"]),C=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],k=(0,l.Ay)(p.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{[`& .${$.li}`]:t.li},t.root]})({}),P=(0,l.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),_=(0,l.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function S(e,t,o,r){return e.reduce(((s,a,n)=>(n<e.length-1?s=s.concat(a,(0,j.jsx)(_,{"aria-hidden":!0,className:t,ownerState:r,children:o},`separator-${n}`)):s.push(a),s)),[])}const I=a.forwardRef((function(e,t){const o=(0,d.b)({props:e,name:"MuiBreadcrumbs"}),{children:l,className:p,component:u="nav",slots:g={},slotProps:x={},expandText:m="Show path",itemsAfterCollapse:h=1,itemsBeforeCollapse:y=1,maxItems:v=8,separator:w="/"}=o,A=(0,s.A)(o,C),[$,_]=a.useState(!1),I=(0,r.A)({},o,{component:u,expanded:$,expandText:m,itemsAfterCollapse:h,itemsBeforeCollapse:y,maxItems:v,separator:w}),R=(e=>{const{classes:t}=e;return(0,c.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},b,t)})(I),H=(0,i.A)({elementType:g.CollapsedIcon,externalSlotProps:x.collapsedIcon,ownerState:I}),M=a.useRef(null),V=a.Children.toArray(l).filter((e=>a.isValidElement(e))).map(((e,t)=>(0,j.jsx)("li",{className:R.li,children:e},`child-${t}`)));return(0,j.jsx)(k,(0,r.A)({ref:t,component:u,color:"text.secondary",className:(0,n.A)(R.root,p),ownerState:I},A,{children:(0,j.jsx)(P,{className:R.ol,ref:M,ownerState:I,children:S($||v&&V.length<=v?V:(e=>y+h>=e.length?e:[...e.slice(0,y),(0,j.jsx)(f,{"aria-label":m,slots:{CollapsedIcon:g.CollapsedIcon},slotProps:{collapsedIcon:H},onClick:()=>{_(!0);const e=M.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-h,e.length)])(V),R.separator,w,I)})}))}))},2798:(e,t,o)=>{o.r(t),o.d(t,{default:()=>M});var r=o(5043),s=o(9490),a=o(6971),n=o(4535),c=o(2703),i=o(5865),l=o(7392),d=o(2698),p=o(3193),u=o(9190),g=o(9285),j=o(2143),x=o(8527),m=o(8903),h=o(3336),y=o(8977),v=o(3845),f=o(794),w=o(4194),A=o(4528),b=o(7332),$=o(9662),C=o(579);const k=(0,$.A)((0,C.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download");var P=o(5225),_=o(4593),S=o(6961),I=o(1473);const R=(0,n.Ay)(c.A)((e=>{let{theme:t}=e;return{display:"flex",width:"100%",flexDirection:"column",height:`calc(100dvh - ${t.header.mobileHeight})`,[t.breakpoints.up("md")]:{height:`calc(100dvh - ${t.header.height})`}}})),H={javascript:{name:"javascript",jdoodle:"nodejs",versionIndex:"3",extension:"js"},python:{name:"python",jdoodle:"python3",versionIndex:"3",extension:"py"},java:{name:"java",jdoodle:"java",versionIndex:"3",extension:"java"},php:{name:"php",jdoodle:"php",versionIndex:"3",extension:"php"},go:{name:"go",jdoodle:"go",versionIndex:"3",extension:"go"},rust:{name:"rust",jdoodle:"rust",versionIndex:"2",extension:"rs"},sql:{name:"sql",jdoodle:"sql",versionIndex:"0",extension:"sql"}},M=()=>{var e;const{projectId:t}=(0,a.g)(),o=(0,a.Zp)(),{user:n}=(0,A.As)(),[$,M]=(0,r.useState)(null),[V,L]=(0,r.useState)(!0),[O,D]=(0,r.useState)(""),[z,B]=(0,r.useState)(""),[T,F]=(0,r.useState)(!1),[q,E]=(0,r.useState)("javascript"),[N,U]=(0,r.useState)({open:!1,message:"",severity:"success"}),[G,W]=(0,r.useState)(0),[J,K]=(0,r.useState)(0);(0,r.useEffect)((()=>{Q()}),[t]);const Q=async()=>{try{L(!0);const e=(null===n||void 0===n?void 0:n.is_staff)||(null===n||void 0===n?void 0:n.is_superuser)?await S.$.getProjectAdmin(t):await S.$.getProject(t);M(e.data),D(e.data.content),e.data.language&&E(e.data.language)}catch(e){console.error("Error loading project:",e),U({open:!0,message:"Failed to load project",severity:"error"})}finally{L(!1)}},Z=()=>{U({...N,open:!1})};if(V)return(0,C.jsx)(R,{children:(0,C.jsx)(c.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,C.jsx)(i.A,{sx:{color:"black"},children:"Loading project..."})})});if(!$)return(0,C.jsx)(R,{children:(0,C.jsx)(c.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,C.jsx)(i.A,{sx:{color:"black"},children:"Project not found"})})});$.owner.id,null===n||void 0===n||n.id,null===(e=$.collaborators)||void 0===e||e.some((e=>e.user.id===(null===n||void 0===n?void 0:n.id)&&e.role in["editor","admin"])),(null===n||void 0===n?void 0:n.is_staff)||null===n||void 0===n||n.is_superuser;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(s.mg,{children:(0,C.jsx)("title",{children:"Compiler | OneDollarAI"})}),(0,C.jsxs)(R,{children:[(0,C.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2,py:1},children:[(0,C.jsx)(l.A,{edge:"start",onClick:()=>o("/projects"),sx:{mr:2,color:"black"},children:(0,C.jsx)(b.A,{})}),(0,C.jsx)(d.A,{sx:{flexGrow:1},children:(0,C.jsx)(i.A,{sx:{color:"black"},children:"Compiler"})}),(0,C.jsxs)(c.A,{sx:{display:"flex",gap:1},children:[(0,C.jsxs)(p.A,{size:"small",sx:{minWidth:120},children:[(0,C.jsx)(u.A,{sx:{color:"black"},children:"Language"}),(0,C.jsx)(g.A,{value:q,onChange:e=>E(e.target.value),label:"Language",sx:{color:"black","& .MuiOutlinedInput-notchedOutline":{borderColor:"black"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"black"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"black"}},children:Object.values(H).map((e=>(0,C.jsx)(j.A,{value:e.name,sx:{color:"black !important","&:hover, &:active, &.active, &.Mui-selected":{color:"black !important"}},children:e.name},e.name)))})]}),(0,C.jsx)(x.A,{title:"Download Code",componentsProps:{tooltip:{sx:{bgcolor:"black",color:"white","& .MuiTooltip-arrow":{color:"black"}}}},children:(0,C.jsx)(l.A,{onClick:()=>{const e=document.createElement("a"),t=new Blob([O],{type:"text/plain"});e.href=URL.createObjectURL(t),e.download=`${(null===$||void 0===$?void 0:$.title)||"project"}.${(e=>{var t;return(null===(t=H[e])||void 0===t?void 0:t.extension)||"txt"})(q)}`,document.body.appendChild(e),e.click(),document.body.removeChild(e)},sx:{color:"black"},children:(0,C.jsx)(k,{})})})]})]}),(0,C.jsx)(c.A,{sx:{flexGrow:1,display:"flex",overflow:"hidden",maxHeight:"calc(100% - 44px)"},children:(0,C.jsxs)(m.Ay,{container:!0,sx:{height:"100%"},children:[(0,C.jsx)(m.Ay,{item:!0,xs:12,md:6,sx:{height:"100%",display:"flex",flexDirection:"column"},children:(0,C.jsxs)(h.A,{sx:{flexGrow:1,display:"flex",flexDirection:"column",m:1,maxHeight:"calc(100% - 18px)"},children:[(0,C.jsx)(c.A,{sx:{borderBottom:1,borderColor:"divider",p:1},children:(0,C.jsxs)(i.A,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1,color:"black"},children:[(0,C.jsx)(P.A,{sx:{color:"black"}}),"Code Editor"]})}),(0,C.jsx)(c.A,{display:"flex",flexDirection:"column",sx:{flexGrow:1,p:2,maxHeight:"calc(100% - 44px)"},children:(0,C.jsx)(I.A,{value:O,onChange:D,language:q})})]})}),(0,C.jsx)(m.Ay,{item:!0,xs:12,md:6,sx:{height:"100%",display:"flex",flexDirection:"column",maxHeight:"100%"},children:(0,C.jsx)(h.A,{sx:{flexGrow:1,display:"flex",flexDirection:"column",m:1,maxHeight:"calc(100% - 18px)",scrollbarColor:"#888 #ffffff"},children:(0,C.jsx)(c.A,{sx:{flexGrow:1,p:2,maxHeight:"100%"},children:(0,C.jsxs)(c.A,{sx:{height:"100%",display:"flex",flexDirection:"column",maxHeight:"100%"},children:[(0,C.jsx)(c.A,{sx:{display:"flex",gap:1,mb:2},children:(0,C.jsx)(y.A,{variant:"contained",startIcon:(0,C.jsx)(_.A,{}),onClick:async()=>{if(O.trim()){F(!0),B(""),W(0),K(0);try{const e=Date.now(),t=await(async(e,t)=>{try{return(await S.$.executeCode(e,t)).data}catch(r){var o;throw console.error("Error executing code:",(null===(o=r.response)||void 0===o?void 0:o.data)||r.message),r}})(O,q),o=Date.now();W(o-e),B(t.output),K(t.memory/1024||0),U({open:!0,message:"Code executed successfully!",severity:"success"})}catch(e){console.error("Execution error:",e),B(`Error: ${e.message}`),U({open:!0,message:"Code execution failed",severity:"error"})}finally{F(!1)}}else U({open:!0,message:"Please write some code first",severity:"warning"})},disabled:T,color:"success",children:T?"Running...":"Run Code"})}),(0,C.jsxs)(c.A,{sx:{display:"flex",maxHeight:"100%",gap:2,mb:2},children:[(0,C.jsx)(v.A,{label:`Time: ${G}ms`,color:"primary",variant:"outlined"}),(0,C.jsx)(v.A,{label:`Memory: ${J.toFixed(2)}KB`,color:"secondary",variant:"outlined",sx:{color:"black"}})]}),(0,C.jsx)(c.A,{sx:{bgcolor:"white",color:"#667085",boxShadow:"0px 0px 2px #6A7199",padding:"10px",borderRadius:"10px",wordWrap:"break-word",whiteSpace:"pre-wrap",overflowWrap:"break-word",maxHeight:"100%",overflowY:"auto"},children:(0,C.jsx)(i.A,{lineHeight:2,children:z||"Output will appear here..."})})]})})})})]})})]}),(0,C.jsx)(f.A,{open:N.open,autoHideDuration:6e3,onClose:Z,children:(0,C.jsx)(w.A,{onClose:Z,severity:N.severity,sx:{width:"100%"},children:N.message})})]})}},4593:(e,t,o)=>{o.d(t,{A:()=>a});var r=o(9662),s=o(579);const a=(0,r.A)((0,s.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow")},6961:(e,t,o)=>{o.d(t,{$:()=>c});var r=o(6213),s=o(1880);const a="https://onedollarai.com",n=r.A.create({baseURL:`${a}/api`,headers:{"Content-Type":"application/json"},withCredentials:!0});n.interceptors.request.use((async e=>{await(async()=>{try{if(s.A.get("csrftoken"))console.log("CSRF token already exists:",s.A.get("csrftoken")?"Token exists":"No token found");else{console.log("No CSRF token found, fetching a new one...");const e=await r.A.get(`${a}/api/get_csrf_token/`,{withCredentials:!0});if(200===e.status){const e=s.A.get("csrftoken");console.log("CSRF token fetched successfully:",e?"Token received":"No token set")}else console.warn("Failed to fetch CSRF token:",e.status)}}catch(e){console.error("Error fetching CSRF token:",e)}})();const t=localStorage.getItem("accessToken");t&&(e.headers.Authorization=`Bearer ${t}`);const o=s.A.get("csrftoken");return o&&(e.headers["X-CSRFToken"]=o),e}),(e=>Promise.reject(e))),n.interceptors.response.use((e=>e),(e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("accessToken"),window.location.href="/login"),Promise.reject(e)}));const c={getAllProjects:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await n.get("/projects/",{params:e})},getMyProjects:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await n.get("/projects/my_projects/",{params:e})},searchProjects:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await n.get("/projects/search/",{params:{q:e,...t}})},getProject:async e=>await n.get(`/projects/${e}/`),createProject:async e=>await n.post("/projects/",e),updateProject:async(e,t)=>await n.put(`/projects/${e}/`,t),deleteProject:async e=>await n.delete(`/projects/${e}/`),runProject:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await n.post(`/projects/${e}/run/`,t)},trackProjectView:async e=>await n.post(`/projects/${e}/view/`),getProjectAnalytics:async e=>await n.get(`/projects/${e}/analytics/`),getCollaborators:async e=>await n.get(`/projects/${e}/collaborators/`),addCollaborator:async(e,t)=>await n.post(`/projects/${e}/add_collaborator/`,t),removeCollaborator:async(e,t)=>await n.post(`/projects/${e}/remove_collaborator/`,{user_id:t}),submitVersionForReview:async(e,t)=>await n.post(`/projects/${e}/submit_version_for_review/`,t),getPendingVersions:async e=>await n.get(`/projects/${e}/pending_versions/`),promoteVersionToPublic:async(e,t)=>await n.post(`/projects/${e}/versions/${t}/promote_to_public/`),getProjectVersions:async e=>await n.get(`/projects/${e}/versions/`),createProjectVersion:async(e,t)=>await n.post(`/projects/${e}/versions/`,t),updateProjectVersion:async(e,t,o)=>await n.put(`/projects/${e}/versions/${t}/`,o),deleteProjectVersion:async(e,t)=>await n.delete(`/projects/${e}/versions/${t}/`),approveProjectVersion:async(e,t)=>await n.post(`/projects/${e}/versions/${t}/approve/`),rejectProjectVersion:async function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return await n.post(`/projects/${e}/versions/${t}/reject/`,{reason:o})},analyzeComputingResources:async(e,t)=>await n.post(`/projects/${e}/computing-resources/`,{code:t}),getComputingResources:async e=>await n.get(`/projects/${e}/computing-resources/`),updateComputingResources:async(e,t,o)=>await n.put(`/projects/${e}/computing-resources/${t}/`,o),getAllProjectsAdmin:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await n.get("/projects/admin/projects/",{params:e})},deleteProjectAdmin:async e=>await n.delete(`/projects/admin/projects/${e}/`),getProjectAdmin:async e=>await n.get(`/projects/admin/projects/${e}/`),getAdminAnalytics:async()=>await n.get("/projects/admin/projects/analytics/"),approveProject:async e=>await n.post(`/projects/admin/projects/${e}/approve/`),rejectProject:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return await n.post(`/projects/admin/projects/${e}/reject/`,{reason:t})},updateProjectAdmin:async(e,t)=>await n.put(`/projects/admin/projects/${e}/`,t),runProjectAdmin:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await n.post(`/projects/admin/projects/${e}/run_project/`,t)},trackProjectViewAdmin:async e=>await n.post(`/projects/admin/projects/${e}/track_view/`),addCollaboratorAdmin:async(e,t)=>await n.post(`/projects/admin/projects/${e}/add_collaborator_admin/`,t),removeCollaboratorAdmin:async(e,t)=>await n.delete(`/projects/admin/projects/${e}/remove_collaborator_admin/`,{data:{user_id:t}}),approveVersionAdmin:async(e,t)=>await n.post(`/projects/admin/projects/${e}/approve_version/`,{version_id:t}),rejectVersionAdmin:async function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return await n.post(`/projects/admin/projects/${e}/reject_version/`,{version_id:t,reason:o})},getProjectUsage:async e=>await n.get(`/projects/${e}/usage/`),getUserProjectUsage:async e=>await n.get(`/projects/${e}/user_usage/`),getUserUsage:async e=>await n.get(`/projects/${e}/user_usage/`),getUserUsageAdmin:async e=>await n.get(`/projects/admin/projects/${e}/user_usage/`),getPendingVersions:async e=>await n.get(`/projects/${e}/pending_versions/`),approveVersion:async(e,t)=>await n.post(`/projects/${e}/versions/${t}/approve/`),rejectVersion:async(e,t,o)=>await n.post(`/projects/${e}/versions/${t}/reject/`,{reason:o}),submitVersionForReview:async(e,t)=>await n.post(`/projects/${e}/submit_version_for_review/`,t),submitForReview:async(e,t)=>await n.post(`/projects/${e}/submit_for_review/`,t),getPublicProject:async e=>await n.get(`/projects/public/${e}/`),getPrivateProject:async e=>await n.get(`/projects/private/${e}/`),executeCode:async(e,t)=>await n.post("/projects/execute-code/",{code:e,language:t}),advancedSearch:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{query:t="",projectType:o="",language:r="",sortBy:s="created_at",sortOrder:a="desc"}=e,c={q:t,type:o,language:r,sort_by:s,sort_order:a};return await n.get("/projects/search/",{params:c})}}},7332:(e,t,o)=>{o.d(t,{A:()=>a});var r=o(9662),s=o(579);const a=(0,r.A)((0,s.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")}}]);
//# sourceMappingURL=798.90001b09.chunk.js.map