"use strict";(self.webpackChunkOneDollarAI=self.webpackChunkOneDollarAI||[]).push([[618],{2618:(e,s,r)=>{r.r(s),r.d(s,{default:()=>W});var t=r(5043),o=r(6971),a=r(9490),c=r(5381),n=r(2703),i=r(611),l=r(5865),x=r(4194),j=r(8977),d=r(2110),p=r(6494),u=r(3845),h=r(1045),y=r(4669),A=r(4056),m=r(8903),g=r(5721),b=r(681),v=r(2050),w=r(8734),k=r(3336),f=r(794),$=r(5225),P=r(8598),_=r(7332),C=r(3637),T=r(6225),I=r(9893),S=r(4593),V=r(1007),R=r(7795),F=r(9010),L=r(9215),B=r(3632),M=r(7012),U=r(4528),z=r(6961),E=r(955),O=r(4115),D=r(5772),N=r(579);const W=()=>{const{projectId:e}=(0,o.g)(),s=(0,o.Zp)(),{user:r}=(0,U.As)(),[W,q]=(0,t.useState)(null),[H,X]=(0,t.useState)(!0),[Z,G]=(0,t.useState)(null),[J,K]=(0,t.useState)(0),[Q,Y]=(0,t.useState)({open:!1,message:"",severity:"success"});(0,t.useEffect)((()=>{ee()}),[e]);const ee=async()=>{try{X(!0),G(null);const s=await z.$.getPublicProject(e);q(s.data),await z.$.trackProjectView(e)}catch(Z){console.error("Error loading project:",Z),G("Failed to load project. Please try again.")}finally{X(!1)}},se=(null===W||void 0===W?void 0:W.latest_public_version)||(null===W||void 0===W?void 0:W.latest_private_version);return H?(0,N.jsx)(c.A,{maxWidth:"lg",children:(0,N.jsxs)(n.A,{sx:{mt:4,textAlign:"center"},children:[(0,N.jsx)(i.A,{sx:{mb:2}}),(0,N.jsx)(l.A,{variant:"h6",sx:{color:"black"},children:"Loading project..."})]})}):Z?(0,N.jsx)(c.A,{maxWidth:"lg",children:(0,N.jsxs)(n.A,{sx:{mt:4},children:[(0,N.jsx)(x.A,{severity:"error",sx:{color:"black"},children:Z}),(0,N.jsx)(j.A,{startIcon:(0,N.jsx)(_.A,{}),onClick:()=>s("/projects"),sx:{mt:2,color:"black"},children:"Back to Projects"})]})}):W?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(a.mg,{children:(0,N.jsxs)("title",{children:[W.title," - OneDollarAI"]})}),(0,N.jsxs)(c.A,{maxWidth:"lg",children:[(0,N.jsx)(n.A,{sx:{mt:3,mb:2},children:(0,N.jsx)(j.A,{startIcon:(0,N.jsx)(_.A,{}),onClick:()=>s("/projects"),sx:{color:"black"},children:"Back to Projects"})}),(0,N.jsx)(d.A,{sx:{mb:3},children:(0,N.jsxs)(p.A,{children:[(0,N.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[(0,N.jsxs)(n.A,{children:[(0,N.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(e=>{switch(e){case"code":default:return(0,N.jsx)($.A,{sx:{color:"black"}});case"text":return(0,N.jsx)(P.A,{sx:{color:"black"}})}})(W.project_type),(0,N.jsx)(l.A,{variant:"h4",component:"h1",sx:{color:"black"},children:W.title}),(0,N.jsx)(u.A,{icon:(0,N.jsx)(C.A,{}),label:"Public",color:"primary",size:"small"})]}),(0,N.jsx)(l.A,{variant:"body1",sx:{mb:2,color:"black"},children:W.description})]}),(0,N.jsx)(n.A,{sx:{display:"flex",gap:1},children:(0,N.jsx)(u.A,{icon:(0,N.jsx)(T.A,{}),label:W.status,color:(e=>{switch(e){case"approved":return"success";case"pending":return"warning";case"rejected":return"error";default:return"default"}})(W.status),variant:"outlined"})})]}),(0,N.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[(0,N.jsx)(h.A,{sx:{width:32,height:32},children:W.owner.avatar?(0,N.jsx)("img",{src:W.owner.avatar,alt:W.owner.first_name}):(0,N.jsx)(I.A,{fontSize:"small"})}),(0,N.jsxs)(l.A,{variant:"body2",sx:{color:"black"},children:["by ",W.owner.first_name," ",W.owner.last_name]})]}),(0,N.jsxs)(n.A,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[(0,N.jsx)(j.A,{variant:"outlined",startIcon:(0,N.jsx)(S.A,{}),onClick:()=>{r?s(`/project/${e}/run`):Y({open:!0,message:"Please log in to run this project",severity:"warning"})},sx:{color:"black",borderColor:"black"},children:"Try Project"}),r&&(0,N.jsx)(j.A,{variant:"outlined",startIcon:(0,N.jsx)(V.A,{}),onClick:()=>{r?s(`/project/${e}`):Y({open:!0,message:"Please log in to view the private version",severity:"warning"})},sx:{color:"black",borderColor:"black"},children:"View Private Version"})]})]})}),(0,N.jsx)(d.A,{children:(0,N.jsxs)(p.A,{children:[(0,N.jsx)(n.A,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:(0,N.jsxs)(y.A,{value:J,onChange:(e,s)=>{K(s)},children:[(0,N.jsx)(A.A,{label:"Overview",sx:{color:"black"}}),(0,N.jsx)(A.A,{label:"Content",sx:{color:"black"}}),(0,N.jsx)(A.A,{label:"Examples",sx:{color:"black"}}),(0,N.jsx)(A.A,{label:"Analytics",sx:{color:"black"}})]})}),(0,N.jsxs)(n.A,{sx:{mt:2},children:[0===J&&(0,N.jsxs)(m.Ay,{container:!0,spacing:3,children:[(0,N.jsxs)(m.Ay,{item:!0,xs:12,md:6,children:[(0,N.jsx)(l.A,{variant:"h6",gutterBottom:!0,sx:{color:"black"},children:"Project Information"}),(0,N.jsxs)(g.A,{children:[(0,N.jsxs)(b.Ay,{children:[(0,N.jsx)(v.A,{children:(0,N.jsx)($.A,{sx:{color:"black"}})}),(0,N.jsx)(w.A,{primary:"Type",secondary:W.project_type,sx:{"& .MuiListItemText-primary":{color:"black"}}})]}),W.language&&(0,N.jsxs)(b.Ay,{children:[(0,N.jsx)(v.A,{children:(0,N.jsx)($.A,{sx:{color:"black"}})}),(0,N.jsx)(w.A,{primary:"Language",secondary:W.language,sx:{"& .MuiListItemText-primary":{color:"black"}}})]}),(0,N.jsxs)(b.Ay,{children:[(0,N.jsx)(v.A,{children:(0,N.jsx)(R.A,{sx:{color:"black"}})}),(0,N.jsx)(w.A,{primary:"Created",secondary:(0,D.A)(new Date(W.created_at),{addSuffix:!0}),sx:{"& .MuiListItemText-primary":{color:"black"}}})]})]})]}),(0,N.jsxs)(m.Ay,{item:!0,xs:12,md:6,children:[(0,N.jsx)(l.A,{variant:"h6",gutterBottom:!0,sx:{color:"black"},children:"Pricing & Usage"}),(0,N.jsxs)(g.A,{children:[(0,N.jsxs)(b.Ay,{children:[(0,N.jsx)(v.A,{children:(0,N.jsx)(F.A,{sx:{color:"black"}})}),(0,N.jsx)(w.A,{primary:"One-time Purchase",secondary:`$${W.price}`,sx:{"& .MuiListItemText-primary":{color:"black"}}})]}),(0,N.jsxs)(b.Ay,{children:[(0,N.jsx)(v.A,{children:(0,N.jsx)(S.A,{sx:{color:"black"}})}),(0,N.jsx)(w.A,{primary:"Per-use Charge",secondary:`$${W.price_per_use}`,sx:{"& .MuiListItemText-primary":{color:"black"}}})]}),W.computing_resources&&W.computing_resources.length>0&&(0,N.jsxs)(b.Ay,{children:[(0,N.jsx)(v.A,{children:(0,N.jsx)(L.A,{sx:{color:"black"}})}),(0,N.jsx)(w.A,{primary:"Cost per Run",secondary:`$${W.computing_resources[0].estimated_cost_per_run}`,sx:{"& .MuiListItemText-primary":{color:"black"}}})]})]})]})]}),1===J&&(0,N.jsxs)(n.A,{children:[(0,N.jsx)(l.A,{variant:"h6",gutterBottom:!0,sx:{color:"black"},children:"Project Content"}),null!==se&&void 0!==se&&se.content?(0,N.jsx)(k.A,{sx:{p:2,backgroundColor:"#f5f5f5",fontFamily:"monospace",whiteSpace:"pre-wrap",overflow:"auto",maxHeight:"400px"},children:"code"===W.project_type?(0,N.jsx)("div",{style:{color:"black"},children:(0,N.jsx)(E.oz,{rehypePlugins:[O.A],children:se.content})}):(0,N.jsx)(l.A,{variant:"body1",sx:{color:"black"},children:se.content})}):(0,N.jsx)(l.A,{sx:{color:"black"},children:"No content available in public version."})]}),2===J&&(0,N.jsxs)(n.A,{children:[(0,N.jsx)(l.A,{variant:"h6",gutterBottom:!0,sx:{color:"black"},children:"Usage Examples"}),null!==se&&void 0!==se&&se.examples&&se.examples.length>0?(0,N.jsx)(g.A,{children:se.examples.map(((e,s)=>(0,N.jsxs)(b.Ay,{divider:!0,children:[(0,N.jsx)(v.A,{children:(0,N.jsx)($.A,{sx:{color:"black"}})}),(0,N.jsx)(w.A,{primary:e.title||`Example ${s+1}`,secondary:(0,N.jsxs)(n.A,{children:[(0,N.jsx)(l.A,{variant:"body2",sx:{color:"black",mb:1},children:e.description}),e.code&&(0,N.jsx)(k.A,{sx:{p:1,backgroundColor:"#f8f9fa",fontFamily:"monospace",fontSize:"0.875rem"},children:(0,N.jsx)("pre",{style:{margin:0,color:"black"},children:e.code})})]}),sx:{"& .MuiListItemText-primary":{color:"black"}}})]},s)))}):(0,N.jsx)(l.A,{sx:{color:"black"},children:"No examples available."})]}),3===J&&(0,N.jsxs)(m.Ay,{container:!0,spacing:3,children:[(0,N.jsxs)(m.Ay,{item:!0,xs:12,md:6,children:[(0,N.jsx)(l.A,{variant:"h6",gutterBottom:!0,sx:{color:"black"},children:"Project Analytics"}),(0,N.jsxs)(g.A,{children:[(0,N.jsxs)(b.Ay,{children:[(0,N.jsx)(v.A,{children:(0,N.jsx)(B.A,{sx:{color:"black"}})}),(0,N.jsx)(w.A,{primary:"Total Views",secondary:W.total_views||0,sx:{"& .MuiListItemText-primary":{color:"black"}}})]}),(0,N.jsxs)(b.Ay,{children:[(0,N.jsx)(v.A,{children:(0,N.jsx)(S.A,{sx:{color:"black"}})}),(0,N.jsx)(w.A,{primary:"Total Runs",secondary:W.total_runs||0,sx:{"& .MuiListItemText-primary":{color:"black"}}})]}),(0,N.jsxs)(b.Ay,{children:[(0,N.jsx)(v.A,{children:(0,N.jsx)(F.A,{sx:{color:"black"}})}),(0,N.jsx)(w.A,{primary:"Total Purchases",secondary:W.total_purchases||0,sx:{"& .MuiListItemText-primary":{color:"black"}}})]}),W.total_revenue>0&&(0,N.jsxs)(b.Ay,{children:[(0,N.jsx)(v.A,{children:(0,N.jsx)(M.A,{sx:{color:"black"}})}),(0,N.jsx)(w.A,{primary:"Total Revenue",secondary:`$${W.total_revenue}`,sx:{"& .MuiListItemText-primary":{color:"black"}}})]})]})]}),(0,N.jsxs)(m.Ay,{item:!0,xs:12,md:6,children:[(0,N.jsx)(l.A,{variant:"h6",gutterBottom:!0,sx:{color:"black"},children:"Project Status"}),(0,N.jsx)(x.A,{severity:"info",sx:{color:"black"},children:(0,N.jsx)(l.A,{variant:"body2",children:"This is a public project that can be viewed and used by anyone. To access the full features and private version, consider purchasing the project."})})]})]})]})]})}),(0,N.jsx)(f.A,{open:Q.open,autoHideDuration:6e3,onClose:()=>Y({...Q,open:!1}),children:(0,N.jsx)(x.A,{onClose:()=>Y({...Q,open:!1}),severity:Q.severity,sx:{width:"100%"},children:Q.message})})]})]}):(0,N.jsx)(c.A,{maxWidth:"lg",children:(0,N.jsxs)(n.A,{sx:{mt:4},children:[(0,N.jsx)(x.A,{severity:"warning",sx:{color:"black"},children:"Project not found or not public"}),(0,N.jsx)(j.A,{startIcon:(0,N.jsx)(_.A,{}),onClick:()=>s("/projects"),sx:{mt:2,color:"black"},children:"Back to Projects"})]})})}},6961:(e,s,r)=>{r.d(s,{$:()=>n});var t=r(6213),o=r(1880);const a="https://onedollarai.com",c=t.A.create({baseURL:`${a}/api`,headers:{"Content-Type":"application/json"},withCredentials:!0});c.interceptors.request.use((async e=>{await(async()=>{try{if(o.A.get("csrftoken"))console.log("CSRF token already exists:",o.A.get("csrftoken")?"Token exists":"No token found");else{console.log("No CSRF token found, fetching a new one...");const e=await t.A.get(`${a}/api/get_csrf_token/`,{withCredentials:!0});if(200===e.status){const e=o.A.get("csrftoken");console.log("CSRF token fetched successfully:",e?"Token received":"No token set")}else console.warn("Failed to fetch CSRF token:",e.status)}}catch(e){console.error("Error fetching CSRF token:",e)}})();const s=localStorage.getItem("accessToken");s&&(e.headers.Authorization=`Bearer ${s}`);const r=o.A.get("csrftoken");return r&&(e.headers["X-CSRFToken"]=r),e}),(e=>Promise.reject(e))),c.interceptors.response.use((e=>e),(e=>{var s;return 401===(null===(s=e.response)||void 0===s?void 0:s.status)&&(localStorage.removeItem("accessToken"),window.location.href="/login"),Promise.reject(e)}));const n={getAllProjects:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await c.get("/projects/",{params:e})},getMyProjects:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await c.get("/projects/my_projects/",{params:e})},searchProjects:async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await c.get("/projects/search/",{params:{q:e,...s}})},getProject:async e=>await c.get(`/projects/${e}/`),createProject:async e=>await c.post("/projects/",e),updateProject:async(e,s)=>await c.put(`/projects/${e}/`,s),deleteProject:async e=>await c.delete(`/projects/${e}/`),runProject:async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await c.post(`/projects/${e}/run/`,s)},buyProject:async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await c.post(`/projects/${e}/buy/`,s)},trackProjectView:async e=>await c.post(`/projects/${e}/view/`),getProjectAnalytics:async e=>await c.get(`/projects/${e}/analytics/`),getCollaborators:async e=>await c.get(`/projects/${e}/collaborators/`),addCollaborator:async(e,s)=>await c.post(`/projects/${e}/add_collaborator/`,s),removeCollaborator:async(e,s)=>await c.post(`/projects/${e}/remove_collaborator/`,{user_id:s}),submitVersionForReview:async(e,s)=>await c.post(`/projects/${e}/submit_version_for_review/`,s),getPendingVersions:async e=>await c.get(`/projects/${e}/pending_versions/`),promoteVersionToPublic:async(e,s)=>await c.post(`/projects/${e}/versions/${s}/promote_to_public/`),getProjectVersions:async e=>await c.get(`/projects/${e}/versions/`),createProjectVersion:async(e,s)=>await c.post(`/projects/${e}/versions/`,s),updateProjectVersion:async(e,s,r)=>await c.put(`/projects/${e}/versions/${s}/`,r),deleteProjectVersion:async(e,s)=>await c.delete(`/projects/${e}/versions/${s}/`),approveProjectVersion:async(e,s)=>await c.post(`/projects/${e}/versions/${s}/approve/`),rejectProjectVersion:async function(e,s){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return await c.post(`/projects/${e}/versions/${s}/reject/`,{reason:r})},analyzeComputingResources:async(e,s)=>await c.post(`/projects/${e}/computing-resources/`,{code:s}),getComputingResources:async e=>await c.get(`/projects/${e}/computing-resources/`),updateComputingResources:async(e,s,r)=>await c.put(`/projects/${e}/computing-resources/${s}/`,r),getAllProjectsAdmin:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await c.get("/projects/admin/projects/",{params:e})},getAdminAnalytics:async()=>await c.get("/projects/admin/projects/analytics/"),approveProject:async e=>await c.post(`/projects/admin/projects/${e}/approve/`),rejectProject:async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return await c.post(`/projects/admin/projects/${e}/reject/`,{reason:s})},getProjectUsage:async e=>await c.get(`/projects/${e}/usage/`),getUserProjectUsage:async e=>await c.get(`/projects/${e}/user_usage/`),getUserUsage:async e=>await c.get(`/projects/${e}/user_usage/`),getPendingVersions:async e=>await c.get(`/projects/${e}/pending_versions/`),approveVersion:async(e,s)=>await c.post(`/projects/${e}/versions/${s}/approve/`),rejectVersion:async(e,s,r)=>await c.post(`/projects/${e}/versions/${s}/reject/`,{reason:r}),submitVersionForReview:async(e,s)=>await c.post(`/projects/${e}/submit_version_for_review/`,s),submitForReview:async(e,s)=>await c.post(`/projects/${e}/submit_for_review/`,s),getPublicProject:async e=>await c.get(`/projects/public/${e}/`),getPrivateProject:async e=>await c.get(`/projects/private/${e}/`),executeCode:async(e,s)=>await c.post("/projects/execute-code/",{code:e,language:s}),advancedSearch:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{query:s="",projectType:r="",language:t="",minPrice:o="",maxPrice:a="",sortBy:n="created_at",sortOrder:i="desc"}=e,l={q:s,type:r,language:t,min_price:o,max_price:a,sort_by:n,sort_order:i};return await c.get("/projects/search/",{params:l})}}}}]);
//# sourceMappingURL=618.eb1c0c38.chunk.js.map